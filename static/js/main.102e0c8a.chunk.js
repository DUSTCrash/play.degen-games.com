(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{143:function(e,t,n){"use strict";n(0),n(331);var c=n(1);t.a=function(){return Object(c.jsx)("div",{className:"Socials",children:Object(c.jsxs)("div",{className:"community",children:[Object(c.jsx)("div",{className:"socialMedia",children:Object(c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://discord.gg/pZZWHsRKaJ",children:Object(c.jsx)("img",{src:"/img/discord.png"})})}),Object(c.jsx)("div",{className:"socialMedia",children:Object(c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/degen_games_sol",children:Object(c.jsx)("img",{src:"/img/twitter.png"})})}),Object(c.jsx)("div",{className:"socialMedia",children:Object(c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://magiceden.io/marketplace/degengames",children:Object(c.jsx)("img",{src:"/img/magiceden.png"})})})]})})}},177:function(e,t,n){"use strict";(function(e){var c=n(3),a=n(10),s=n(4),i=n(0),r=n(174),l=n(22),o=n.n(l),d=n(104),j=n.n(d),b=n(23),u=n(15),O=n(150),m=(n(329),n(56),n(330),n(27)),h=n(20),x=n(80),p=n.n(x),v=n(143),f=n(32),g=n(1),N=Uint8Array.from(e.from("Login to the Degen Games")),y=new u.a("https://floral-fragrant-dew.solana-mainnet.quiknode.pro/a283c07ef8da1becc2b27461514aed301e81ee60/","confirmed"),w=new u.c("Degend6MwnmmXx1uiFPp9UqURUN95BZxUYKLUHZnqUHq");t.a=function(){var e=Object(r.b)(),t=Object(i.useState)(!1),n=Object(s.a)(t,2),l=n[0],d=n[1],x=Object(i.useState)(!1),S=Object(s.a)(x,2),C=S[0],k=S[1],_=Object(i.useState)(!1),T=Object(s.a)(_,2),E=T[0],A=T[1],L=Object(i.useState)(!1),R=Object(s.a)(L,2),z=R[0],D=R[1],M=Object(i.useState)(""),I=Object(s.a)(M,2),B=I[0],F=I[1],U=Object(i.useState)(!1),G=Object(s.a)(U,2),P=G[0],K=G[1],W=Object(i.useState)(0),H=Object(s.a)(W,2),Y=H[0],Z=H[1],q=Object(i.useState)("none"),V=Object(s.a)(q,2),J=V[0],X=V[1],Q=Object(i.useState)(!1),$=Object(s.a)(Q,2),ee=$[0],te=$[1],ne=Object(i.useState)(0),ce=Object(s.a)(ne,2),ae=ce[0],se=ce[1],ie=Object(i.useState)("0"),re=Object(s.a)(ie,2),le=re[0],oe=re[1],de=Object(i.useState)("none"),je=Object(s.a)(de,2),be=je[0],ue=je[1],Oe=Object(i.useState)(""),me=Object(s.a)(Oe,2),he=me[0],xe=me[1],pe=Object(i.useState)(null),ve=Object(s.a)(pe,2),fe=ve[0],ge=ve[1],Ne=Object(i.useState)(0),ye=Object(s.a)(Ne,2),we=ye[0],Se=ye[1],Ce=Object(i.useState)(!1),ke=Object(s.a)(Ce,2),_e=ke[0],Te=ke[1],Ee=Object(i.useState)({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight}),Ae=Object(s.a)(Ee,2),Le=Ae[0],Re=Ae[1],ze=Object(i.useState)(window.innerWidth<=768),De=Object(s.a)(ze,2),Me=De[0],Ie=De[1],Be=function(){Ie(window.innerWidth<=768),Re({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight})},Fe=Object(b.b)(),Ue=Object(b.c)((function(e){return e.user})),Ge=Object(b.c)((function(e){return e.sockets})),Pe=function(){var t=Object(a.a)(Object(c.a)().mark((function t(n){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Fe({type:"LOAD_WALLET",payload:e}),Fe({type:"LOAD_USER",payload:n}),Ke(n),t.abrupt("return",k(!0));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ke=function(e){Ge&&Ge.user&&(Ge.user.emit("subscribeToProfile",e._id),Ge.user.on("balanceChange",(function(e,t){Fe({type:"UPDATE_USER_BALANCE",payload:e}),t&&(K(!1),X("validated"))})))},We=function(){var t=Object(a.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.publicKey&&Y){t.next=2;break}return t.abrupt("return");case 2:if(!(Y<.01*u.b)){t.next=4;break}return t.abrupt("return",h.b.error("Minimum deposit amount is 0.01"));case 4:return t.prev=4,n=(new u.e).add(u.d.transfer({fromPubkey:e.publicKey,toPubkey:w,lamports:Y})),t.next=8,e.sendTransaction(n,y);case 8:console.log({transaction:n}),X("sent"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),h.b.error(t.t0.response.data.message.toString()),X("failed");case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}(),He=function(){var t=Object(a.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.publicKey&&ae){t.next=2;break}return t.abrupt("return");case 2:if(!(ae<.01*u.b)){t.next=4;break}return t.abrupt("return",h.b.error("Minimum withdraw is 0.01 SOLs"));case 4:if(!(ae>Ue.balance)){t.next=6;break}return t.abrupt("return",h.b.error("Balance needs to be higher than the withdraw amount"));case 6:return t.prev=6,ue("withdrawing"),Te(!0),Se(60),t.next=12,o.a.post("/api/u/requestWithdraw",{amount:ae});case 12:n=t.sent.data.txhash,ue("withdrawn"),xe(n),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),h.b.error(t.t0.response.data.message.toString());case 20:case"end":return t.stop()}}),t,null,[[6,17]])})));return function(){return t.apply(this,arguments)}}(),Ye=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(B.length>20)){e.next=2;break}return e.abrupt("return",h.b.error("Maximum charachter is 20"));case 2:return e.prev=2,e.next=5,o.a.post("/api/u/edit",{username:B});case 5:F(B),D(!1),h.b.success("Nickname changed"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),h.b.error(e.t0.response.data.message.toString());case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return window.addEventListener("resize",Be),function(){window.removeEventListener("resize",Be)}}),[Le]),Object(i.useEffect)((function(){var e;return _e?e=setInterval((function(){we>0&&Se(we-1),0==we&&(clearInterval(e),_e&&"withdrawn"!==be&&ue("unknown"))}),1e3):clearInterval(e),function(){clearInterval(e)}}),[we]),Object(i.useEffect)((function(){var t=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){var n,a,s,i,r,j,b,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&t.signMessage&&t.publicKey&&!l){e.next=3;break}return e.abrupt("return");case 3:return d(!0),e.next=6,o.a.get("/api/auth/state");case 6:if(n=e.sent.data,a=n.authenticated,s=n.user,console.log({authenticated:a}),!a){e.next=18;break}if(s.publicKey!==t.publicKey.toBase58()){e.next=15;break}return e.next=14,Pe(s);case 14:return e.abrupt("return");case 15:return console.log("PUBLIC KEYS ARE NOT THE SAME!"),e.next=18,o.a.get("/api/auth/logout");case 18:return i=t.publicKey.toBytes(),e.next=21,t.signMessage(N);case 21:return r=e.sent,e.next=24,o.a.post("/api/auth/login",{publicKey:Array.from(i),signedMessage:Array.from(r)},{withCredentials:!0});case 24:return s=e.sent.data,e.next=27,Pe(s);case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),h.b.error(null===e.t0||void 0===e.t0||null===(j=e.t0.response)||void 0===j||null===(b=j.data)||void 0===b||null===(u=b.message)||void 0===u?void 0:u.toString()),console.log(e.t0);case 33:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}();t(e)}),[e]),Object(i.useEffect)((function(){Ue&&(null!=fe&&(console.log("Balance Update!",Ue.balance-fe),Ue.balance-fe>=0?oe("1"):oe("-1")),ge(Ue.balance),F(Ue.username||""))}),[null===Ue||void 0===Ue?void 0:Ue.balance]),Object(g.jsxs)("div",{className:"Navbar ".concat(Me?"Mobile-Navbar":""),children:[Me&&Object(g.jsx)("a",{href:"https://www.degen-games.com",className:"logo",children:Object(g.jsx)("img",{src:"/logo.png"})}),Object(g.jsxs)("div",{className:"nav-left ".concat(Me&&"mobile-nav-left"),children:[!Me&&Object(g.jsx)("a",{href:"https://www.degen-games.com",className:"logo",children:Object(g.jsx)("img",{src:"/logo.png"})}),Object(g.jsxs)("div",{className:"GameSwitcher ".concat(Me&&"mobile-game-switcher"),children:[Object(g.jsx)("img",{className:"NavbarGamesIcon",src:"/img/rock_mirrored.png"}),Object(g.jsx)("a",{href:"/rps",children:"RPS"}),Object(g.jsx)("img",{className:"NavbarGamesIcon",src:"/img/Dice4.png"}),Object(g.jsx)("a",{href:"/dice",children:"DICE"}),Object(g.jsx)("img",{className:"NavbarGamesIcon",src:"/img/solballnumber.png",id:"powerball"}),Object(g.jsx)("a",{href:"/lottery",children:"Solanaball"}),Object(g.jsx)("img",{className:"NavbarGamesIcon",src:"/img/coin-standard-large.svg"}),Object(g.jsx)("a",{href:"/coinflip",children:"Coinflip"})]})]}),Object(g.jsxs)("div",{className:"navbar ".concat(Me&&"mobile-status-bar"),children:[Object(g.jsx)(m.b,{to:"/leaderboard",children:Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:"/img/leaderboard-icon2.png",className:"leaderboard-icon"})})}),Object(g.jsx)(m.b,{to:"/dashboard",children:Object(g.jsx)("div",{className:"dashboard-icon",children:Object(g.jsx)("img",{src:"/img/Dashboard_Icon.png"})})}),Ue?Object(g.jsx)("div",{className:"balance",children:Object(g.jsxs)("h4",{"data-balancechanged":le,onAnimationEnd:function(){return oe("0")},className:"amount",children:[Number(((null===Ue||void 0===Ue?void 0:Ue.balance)/u.b).toFixed(5))," SOL"]})}):null,Ue?Object(g.jsxs)("div",{onClick:function(){return K(!P)},className:P?"toggleMenu open":"toggleMenu",children:[Object(g.jsx)("span",{}),Object(g.jsx)("span",{}),Object(g.jsx)("span",{})]}):null,C&&Ue?Object(g.jsxs)("div",{className:"user",children:[Object(g.jsx)("button",{onClick:function(){A(!0),X("none")},className:"depositB",children:"Deposit"}),Object(g.jsx)("button",{onClick:function(){Ze(),ue("none")},className:"withdrawB",children:"Withdraw"}),Object(g.jsx)("button",{onClick:function(){return qe()},className:"withdrawB",children:"Nickname"}),Object(g.jsx)(m.b,{to:"/u/".concat(Ue.publicKey.toString()),className:"profile",children:Object(g.jsx)("h4",{className:"name",children:Object(f.a)(Ue)})})]}):Object(g.jsx)("div",{className:"multiButton",children:Object(g.jsx)(O.b,{})})]}),"validated"===J&&!0===E?Object(g.jsx)(j.a,{tweenDuration:1e3,width:Le.dynamicWidth,height:Le.dynamicHeight}):"",E&&Object(g.jsxs)("div",{className:"modal",style:{display:E?"flex":"none"},children:[Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"wrapper",children:[Object(g.jsx)("button",{className:"closeB",onClick:function(){return A(!1)},children:Object(g.jsx)("svg",{width:"14",height:"14",children:Object(g.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(g.jsx)("h1",{className:"title",children:"Deposit"}),"none"===J?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{autoFocus:!0,type:"number",value:null===Y?"":Y/u.b,onChange:function(e){return function(e){if(!e)return Z(null);Number(e)>=0?Z(Number(e)*u.b):Z(0)}(e.target.value)}}),Object(g.jsx)("button",{className:"actionB modalB",onClick:function(){return We()},children:"Deposit"})]}):"sent"===J?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h3",{className:"status",children:["Validating ",Object(g.jsx)(p.a,{size:13,color:"#443f89"})]})}):"validated"===J?Object(g.jsx)("div",{children:Object(g.jsx)("h3",{className:"status",children:"Successfully validated"})}):Object(g.jsx)("h3",{className:"status",children:"Failed"})]})}),Object(g.jsx)("div",{className:"overlay"})]}),ee&&Object(g.jsxs)("div",{className:"modal",style:{display:ee?"flex":"none"},children:[Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"wrapper",children:[Object(g.jsx)("button",{className:"closeB",onClick:function(){te(!1),Te(!1)},children:Object(g.jsx)("svg",{width:"14",height:"14",children:Object(g.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),"unknown"!==be?Object(g.jsx)("h1",{className:"title",children:"Withdraw"}):Object(g.jsxs)("h1",{className:"title",children:["Withdraw",Object(g.jsx)("br",{}),"Unknown"]}),"none"===be?Object(g.jsxs)("div",{className:"withdrawBox",children:[Object(g.jsx)("input",{autoFocus:!0,type:"number",value:ae/u.b,onChange:function(e){return t=e.target.value,void(Number(t)>=0?se(Number(t)*u.b):se(0));var t}}),Object(g.jsx)("button",{className:"actionB modalB",onClick:function(){return He()},children:"Withdraw"})]}):"withdrawing"===be?Object(g.jsxs)("div",{className:"withdrawBox",children:[Object(g.jsxs)("h2",{children:["Withdrawing:",Object(g.jsx)("br",{}),ae/u.b," SOL"]}),Object(g.jsxs)("button",{className:"actionB",disabled:!0,children:[Object(g.jsx)("span",{className:"withdrawLabel",children:"Withdraw"})," ",Object(g.jsx)(p.a,{size:13,color:"#27244f"})]})]}):"withdrawn"===be?Object(g.jsxs)("div",{className:"withdrawBox",children:[Object(g.jsxs)("h2",{className:"green-color",children:["Successfully ",Object(g.jsx)("br",{})]}),Object(g.jsxs)("h2",{children:["Withdrawn: ",Object(g.jsx)("br",{}),ae/u.b," SOL"]}),Object(g.jsx)("a",{target:"_blank",href:"https://solscan.io/tx/".concat(he),children:"See the transaction"})]}):"unknown"===be?Object(g.jsxs)("div",{className:"withdrawBox",children:[Object(g.jsxs)("h3",{children:["Please check your",Object(g.jsx)("br",{})," transactions."]}),Object(g.jsxs)("h3",{children:["Open a ticket if you",Object(g.jsx)("br",{})," require support"]})]}):Object(g.jsx)("h3",{className:"status",children:"Failed"})]})}),Object(g.jsx)("div",{className:"overlay"})]}),z&&Object(g.jsxs)("div",{className:"modal",style:{display:z?"flex":"none"},children:[Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"wrapper",children:[Object(g.jsx)("button",{className:"closeB",onClick:function(){return D(!1)},children:Object(g.jsx)("svg",{width:"14",height:"14",children:Object(g.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(g.jsx)("h1",{className:"title",children:" Nickname"}),Object(g.jsxs)("div",{className:"withdrawBox",children:[Object(g.jsx)("input",{type:"text",value:B,onChange:function(e){return F(e.target.value)}}),Object(g.jsx)("button",{className:"actionB modalB",onClick:function(){return Ye()},children:"Confirm"})]})]})}),Object(g.jsx)("div",{className:"overlay"})]}),Object(g.jsxs)("div",{style:{display:P?"flex":"none"},className:"menu",children:[Ue?Object(g.jsxs)("div",{className:"navLinks",children:[Object(g.jsxs)("button",{onClick:function(){A(!0),X("none")},className:"mobile-nav-button",children:[Object(g.jsx)("img",{className:"icon",src:"/img/deposit.png"}),Object(g.jsx)("p",{className:"title",children:"Deposit"})]}),Object(g.jsxs)("button",{onClick:function(){te(!0),ue("none")},className:"mobile-nav-button",children:[Object(g.jsx)("img",{className:"icon",src:"/img/withdraw.png"}),Object(g.jsx)("p",{className:"title",children:"Withdraw"})]}),Object(g.jsx)("button",{onClick:function(){return D(!0)},className:"mobile-nav-button",children:Object(g.jsx)("p",{className:"title",children:"Nickname"})})]}):null,Object(g.jsx)(v.a,{})]})]})}}).call(this,n(21).Buffer)},213:function(e,t,n){},216:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t){},258:function(e,t){},273:function(e,t){},285:function(e,t){},286:function(e,t){},308:function(e,t,n){},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c=function(e){return e.username||(t=e.publicKey).slice(0,5)+"..."+t.slice(-5);var t}},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){},388:function(e,t,n){},389:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){},434:function(e,t,n){},435:function(e,t,n){},436:function(e,t,n){},437:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(37),i=n.n(s),r=(n(252),n(253),n(461)),l=n(457),o=n(239),d=n(458),j=n(459),b=n(460),u=n(150),O=n(15),m=(n(305),n(112)),h=n(20),x=(n(306),n(307),n(308),n(177)),p=n(3),v=n(10),f=n(4),g=n(174),N=n(22),y=n.n(N),w=n(23),S=(n(78),n(61),n(56),n(5)),C=n(104),k=n.n(C),_=n(73),T=n(24),E=n(65),A=n(27),L=n(32),R=n(45),z=(n(201),n(1));var D=function(e){var t,n,a=Object(c.useState)(),s=Object(f.a)(a,2),i=s[0],r=s[1],l=Object(c.useState)(0),o=Object(f.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(!1),u=Object(f.a)(b,2),m=u[0],x=u[1],N=Object(g.b)(),C=Object(w.b)(),D=Object(w.c)((function(e){return e.user})),M=Object(E.a)("/sound/join.mp3",{volume:.25}),I=Object(f.a)(M,1)[0],B=Object(E.a)("/sound/win.mp3",{volume:.25}),F=Object(f.a)(B,1)[0],U=Object(E.a)("/sound/loss.mp3",{volume:.25}),G=Object(f.a)(U,1)[0],P=Object(E.a)("/sound/countdown.mp3",{volume:.25}),K=Object(f.a)(P,1)[0],W=Object(c.useState)(!1),H=Object(f.a)(W,2),Y=H[0],Z=H[1];Object(c.useEffect)((function(){r(e.game)}),[e.game]),Object(c.useEffect)((function(){i&&q(i)}),[i]);var q=function(e){var t;if(null!==D&&void 0!==D&&D._id&&[e.creator._id,null===(t=e.opponent)||void 0===t?void 0:t._id].includes(D._id))if(console.log(e.status),"ended"===e.status)I();else if("revealed"===e.status){var n;if(!e.winner)return;(null===(n=e.winner)||void 0===n?void 0:n._id)===D._id?(F(),Z(!0)):G()}else"countdown"===e.status&&K()},V=function(e){if(i&&i.status!==e&&(r(Object(S.a)(Object(S.a)({},i),{},{status:e})),"revealed"===e)){var t,n;if(null!==D)i.winner&&(null===(t=i.winner)||void 0===t?void 0:t._id)===D._id?C({type:"UPDATE_USER_BALANCE",payload:2*i.amount}):!i.winner&&[i.creator._id,null===(n=i.opponent)||void 0===n?void 0:n._id].includes(D._id)&&C({type:"UPDATE_USER_BALANCE",payload:i.amount*(1+i.fee/100)});setTimeout((function(){i.status="removed",C({type:"UPDATE_GAME",payload:i}),Z(!1)}),4500)}},J=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&N.publicKey&&i){e.next=2;break}return e.abrupt("return");case 2:if(D._id!==i.creator._id){e.next=4;break}return e.abrupt("return",h.b.error("You can not join your game"));case 4:if(!(D.balance<i.amount)){e.next=6;break}return e.abrupt("return",h.b.error("Balance needs to be higher than the game bet"));case 6:return e.prev=6,e.next=9,y.a.post("/api/game/join",{gameId:i._id,move:d});case 9:R.a.event({category:"DICE",action:"JOIN_GAME",label:"DEGEN_GAME"}),h.b.success("Joined the game"),x(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),h.b.error(e.t0.response.data.message.toString());case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&N.publicKey&&i){e.next=2;break}return e.abrupt("return");case 2:if(i.creator._id===D._id){e.next=4;break}return e.abrupt("return",h.b.error("You can not cancel another person`s game"));case 4:return e.prev=4,e.next=7,y.a.post("/api/game/cancel",{gameId:i._id});case 7:R.a.event({category:"DICE",action:"CANCEL_GAME",label:"DEGEN_GAME"}),h.b.success("Game has been cancelled"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),h.b.error(e.t0.response.data.message.toString());case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[i&&"removed"!==i.status?Object(z.jsxs)("div",{className:"gameWrapper",children:[!0===Y?Object(z.jsx)(k.a,{width:800,height:1200}):Object(z.jsx)("div",{}),Object(z.jsxs)("div",{className:"players",children:[Object(z.jsx)("div",{className:"playerWrapper",children:"revealed"===i.status?Object(z.jsxs)("div",{className:(null===(t=i.winner)||void 0===t?void 0:t._id)==i.creator._id?"player winner":"player loser",children:[Object(z.jsx)(T.a,{className:"move flip",src:"./img/move".concat(i.creatorMove,".svg")}),Object(z.jsx)(A.b,{to:"/u/".concat(i.creator.publicKey),className:"address",children:Object(L.a)(i.creator)})]}):"flipping"===i.status?Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)("div",{className:"flip",children:Object(z.jsx)(T.a,{onAnimationEndCapture:function(){return V("revealed")},className:"move animate__animated animate__bounce",src:"./img/move0.svg"})}),Object(z.jsx)(A.b,{to:"/u/".concat(i.creator.publicKey),className:"address",children:Object(L.a)(i.creator)})]}):Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)(T.a,{className:"move flip",src:"./img/move0.svg"}),Object(z.jsx)(A.b,{to:"/u/".concat(i.creator.publicKey),className:"address",children:Object(L.a)(i.creator)})]})}),Object(z.jsx)("div",{className:"middle",children:"countdown"===i.status?Object(z.jsx)(_.a,{date:i.countDownEnd,onComplete:function(){return V("flipping")},renderer:function(e){return Object(z.jsx)("h3",{children:e.seconds})}}):Object(z.jsx)("h3",{className:"vsTag",children:"VS"})}),Object(z.jsx)("div",{className:"playerWrapper",children:i.opponent?"revealed"===i.status?Object(z.jsxs)("div",{className:(null===(n=i.winner)||void 0===n?void 0:n._id)==i.opponent._id?"player winner":"player loser",children:[Object(z.jsx)(T.a,{className:"move",src:"./img/move".concat(i.opponentMove,".svg")}),Object(z.jsx)(A.b,{to:"/u/".concat(i.opponent.publicKey),className:"address",children:Object(L.a)(i.opponent)})]}):"flipping"===i.status?Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)(T.a,{className:"move animate__animated animate__bounce",src:"./img/move0.svg"}),Object(z.jsx)(A.b,{to:"/u/".concat(i.opponent.publicKey),className:"address",children:Object(L.a)(i.opponent)})]}):Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)(T.a,{className:"move",src:"./img/move0.svg"}),Object(z.jsx)(A.b,{to:"/u/".concat(i.opponent.publicKey),className:"address",children:Object(L.a)(i.opponent)})]}):D&&i.creator._id!==D._id?Object(z.jsxs)("div",{className:"player join",children:[Object(z.jsx)("button",{onClick:function(){return x(!0)},className:"actionB",children:"Join"})," "]}):Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)(T.a,{className:"movePlaceholder",src:"/img/movePlaceholder.svg"}),Object(z.jsx)("h3",{className:"address",children:"waiting..."})]})})]}),Object(z.jsxs)("div",{className:"info",children:[Object(z.jsx)("div",{className:"bet",children:Object(z.jsxs)("h3",{children:[i.amount/O.b," SOL"]})}),!i.opponent&&D?i.creator._id===D._id?Object(z.jsx)("button",{className:"deleteB",onClick:function(){return X()},children:Object(z.jsx)(T.a,{src:"/img/bin.svg"})}):null:Object(z.jsx)(z.Fragment,{})]})]}):null,Object(z.jsxs)("div",{className:"modal",style:{display:m?"flex":"none"},children:[Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("div",{className:"wrapper",children:[Object(z.jsx)("button",{className:"closeB",onClick:function(){return x(!1)},children:Object(z.jsx)("svg",{width:"14",height:"14",children:Object(z.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(z.jsx)("h1",{className:"title",children:"Join Game"}),Object(z.jsxs)("div",{className:"coinChooser",children:[Object(z.jsx)(T.a,{onClick:function(){return j(0)},className:0===d?"chosen flip":"flip",src:"./img/move0.svg"}),Object(z.jsx)(T.a,{onClick:function(){return j(1)},className:1===d?"chosen flip":"flip",src:"./img/move1.svg"}),Object(z.jsx)(T.a,{onClick:function(){return j(2)},className:2===d?"chosen flip":"flip",src:"./img/move2.svg"})]}),Object(z.jsx)("button",{className:"actionB modalB",onClick:function(){return J()},children:"Join"})]})}),Object(z.jsx)("div",{className:"overlay"})]})]})},M=n(80),I=n.n(M),B=["active","countdown","flipping"],F=[.01,.02,.05,.1,.2,.5,1,2,5];var U=function(){var e=Object(g.b)(),t=Object(c.useState)([]),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),r=Object(f.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(f.a)(d,2),b=j[0],u=j[1],m=Object(c.useState)(!1),x=Object(f.a)(m,2),N=x[0],S=x[1],C=Object(c.useState)(.05),k=Object(f.a)(C,2),_=k[0],E=k[1],A=Object(c.useState)(0),L=Object(f.a)(A,2),M=L[0],U=L[1],G=Object(c.useState)({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight}),P=Object(f.a)(G,2),K=P[0],W=P[1],H=Object(c.useState)(window.innerWidth<=768),Y=Object(f.a)(H,2),Z=Y[0],q=Y[1],V=function(){q(window.innerWidth<=768),W({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight})},J=Object(w.b)(),X=Object(w.c)((function(e){return e.user})),Q=Object(w.c)((function(e){return e.games})),$=Object(w.c)((function(e){return e.sockets})),ee=function(){var t=Object(v.a)(Object(p.a)().mark((function t(){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.publicKey&&_&&!N){t.next=2;break}return t.abrupt("return");case 2:if(S(!0),!(X.balance<_)){t.next=5;break}return t.abrupt("return",h.b.error("Balance needs to be higher than the game bet"));case 5:return t.prev=5,t.next=8,y.a.post("/api/game",{amount:_*O.b,creatorMove:M});case 8:R.a.event({category:"RPS",action:"CREATE_GAME",label:"DEGEN_GAME"}),h.b.success("Game created"),u(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),h.b.error(t.t0.response.data.message.toString());case 16:S(!1);case 17:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(){return t.apply(this,arguments)}}(),te=function(e){e.status="ended",J({type:"UPDATE_GAME",payload:e})};return Object(c.useEffect)((function(){return window.addEventListener("resize",V),function(){window.removeEventListener("resize",V)}}),[K]),Object(c.useEffect)((function(){R.a.pageview(window.location.pathname+window.location.search);var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/game/allActive");case 2:t=e.sent,J({type:"LOAD_GAMES",payload:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){$.game&&($.game.on("newGame",(function(e){return J({type:"ADD_GAME",payload:e})})),$.game.on("gameUpdate",(function(e){J({type:"UPDATE_GAME",payload:e})})))}),[$.game]),Object(c.useEffect)((function(){var e=[],t=[];function n(e,t){return t.amount===e.amount?t.createdAt<e.createdAt?1:-1:t.amount-e.amount}Q.forEach((function(n){"rps"===n.gameType&&"removed"!==n.status&&"cancelled"!==n.status&&(n.creator._id===(null===X||void 0===X?void 0:X._id)||n.opponent&&n.opponent._id===(null===X||void 0===X?void 0:X._id)?e.push(n):t.push(n))})),e=e.sort(n),t=t.sort(n),s(e),o(t)}),[X,Q]),Object(z.jsxs)("div",{className:"Page ActiveGames",children:[Object(z.jsxs)("div",{className:"typeWrapper",children:[Object(z.jsxs)("div",{className:"type",children:[Object(z.jsx)("h2",{className:"typeHeader",children:"My Games"}),Object(z.jsx)("h2",{className:"gamesCounter",children:a.length})]}),X?Object(z.jsx)("button",{className:"createGameB",onClick:function(){return u(!0)},children:"NEW GAME +"}):null]}),a.length>0?Object(z.jsx)("div",{className:"box games ".concat(Z&&"mobile-game-box"),children:a.map((function(e){return B.includes(e.status)?Object(z.jsx)("div",{children:Object(z.jsx)(D,{game:e,removeGame:te})},e._id):null}))}):Object(z.jsx)("div",{className:"box typePlaceHolder",children:Object(z.jsx)("p",{children:"Your games will appear here"})}),Z&&Object(z.jsx)("div",{className:"mobile-divider"}),Object(z.jsxs)("div",{className:"type",children:[Object(z.jsx)("h2",{className:"typeHeader",children:"Open Games"}),Object(z.jsx)("h2",{className:"gamesCounter",children:l.length})]}),l.length>0?Object(z.jsx)("div",{className:"box games ".concat(Z&&"mobile-game-box"),children:l.map((function(e){return B.includes(e.status)?Object(z.jsx)("div",{children:Object(z.jsx)(D,{game:e,removeGame:te})},e._id):null}))}):Object(z.jsx)("div",{className:"box typePlaceHolder",children:Object(z.jsx)("p",{children:"No open games at the moment"})}),Object(z.jsxs)("div",{className:"modal",style:{display:b?"flex":"none"},children:[Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("div",{className:"wrapper ".concat(Z&&"mobile-wrapper"),children:[Object(z.jsx)("button",{className:"closeB",onClick:function(){return u(!1)},children:Object(z.jsx)("svg",{width:"14",height:"14",children:Object(z.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(z.jsx)("h1",{className:"title",children:"Create Game"}),Object(z.jsx)("h3",{className:"subtitle",children:"Choose Move"}),Object(z.jsxs)("div",{className:"coinChooser",children:[Object(z.jsx)(T.a,{onClick:function(){return U(0)},className:0===M?"chosen flip":"flip",src:"./img/move0.svg"}),Object(z.jsx)(T.a,{onClick:function(){return U(1)},className:1===M?"chosen flip":"flip",src:"./img/move1.svg"}),Object(z.jsx)(T.a,{onClick:function(){return U(2)},className:2===M?"chosen flip":"flip",src:"./img/move2.svg"})]}),Object(z.jsx)("h3",{className:"subtitle",children:"Choose Amount"}),Object(z.jsx)("div",{className:"amounts",children:F.map((function(e){return Object(z.jsx)("div",{className:_===e?"amountChosen":"amount",onClick:function(){return E(e)},children:e},e)}))}),Object(z.jsxs)("button",{className:"actionB modalB",disabled:N,onClick:function(){return ee()},children:[N?"Creating...":"Create"," ",N?Object(z.jsx)(I.a,{size:13,color:"#27244f"}):null]})]})}),Object(z.jsx)("div",{className:"overlay"})]})]})};n(202),n(203);var G=function(e){var t,n,a=Object(c.useState)(),s=Object(f.a)(a,2),i=s[0],r=s[1],l=Object(c.useState)(0),o=Object(f.a)(l,2),d=(o[0],o[1],Object(c.useState)(!1)),j=Object(f.a)(d,2),b=j[0],u=j[1],m=Object(g.b)(),x=Object(w.b)(),N=Object(w.c)((function(e){return e.user})),C=Object(E.a)("/sound/join.mp3",{volume:.25}),D=Object(f.a)(C,1)[0],M=Object(E.a)("/sound/win.mp3",{volume:.25}),I=Object(f.a)(M,1)[0],B=Object(E.a)("/sound/loss.mp3",{volume:.25}),F=Object(f.a)(B,1)[0],U=Object(E.a)("/sound/countdown.mp3",{volume:.25}),G=Object(f.a)(U,1)[0],P=Object(c.useState)(!1),K=Object(f.a)(P,2),W=K[0],H=K[1],Y=Object(c.useState)(0),Z=Object(f.a)(Y,2),q=(Z[0],Z[1]),V=Object(c.useState)(!1),J=Object(f.a)(V,2),X=(J[0],J[1]);Object(c.useEffect)((function(){r(e.game)}),[e.game]),Object(c.useEffect)((function(){i&&Q(i)}),[i]);var Q=function(e){var t;if(null!==N&&void 0!==N&&N._id&&[e.creator._id,null===(t=e.opponent)||void 0===t?void 0:t._id].includes(N._id))if(console.log(e.status),"ended"===e.status)D();else if("revealed"===e.status){var n;if(!e.winner)return;(null===(n=e.winner)||void 0===n?void 0:n._id)===N._id?(I(),H(!0)):F()}else"countdown"===e.status&&G()},$=function(e){if(i&&i.status!==e&&(r(Object(S.a)(Object(S.a)({},i),{},{status:e})),"revealed"===e)){var t,n;if(null!==N)i.winner&&(null===(t=i.winner)||void 0===t?void 0:t._id)===N._id?x({type:"UPDATE_USER_BALANCE",payload:2*i.amount}):!i.winner&&[i.creator._id,null===(n=i.opponent)||void 0===n?void 0:n._id].includes(N._id)&&x({type:"UPDATE_USER_BALANCE",payload:i.amount*(1+i.fee/100)});setTimeout((function(){i.status="removed",x({type:"UPDATE_GAME",payload:i}),H(!1)}),4500)}},ee=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&m.publicKey&&i){e.next=2;break}return e.abrupt("return");case 2:if(N._id!==i.creator._id){e.next=4;break}return e.abrupt("return",h.b.error("You can not join your game"));case 4:if(!(N.balance<i.amount)){e.next=6;break}return e.abrupt("return",h.b.error("Balance needs to be higher than the game bet"));case 6:return e.prev=6,X(!0),t=Math.floor(6*Math.random())+1,q(t),e.next=12,y.a.post("/api/game-dice/join",{gameId:i._id,move:t});case 12:R.a.event({category:"DICE",action:"JOIN_GAME",label:"DEGEN_GAME"}),h.b.success("Joined the game"),setTimeout((function(){u(!1),X(!1)}),4500),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),h.b.error(e.t0.response.data.message.toString()),X(!1);case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&m.publicKey&&i){e.next=2;break}return e.abrupt("return");case 2:if(i.creator._id===N._id){e.next=4;break}return e.abrupt("return",h.b.error("You can not cancel another person`s game"));case 4:return e.prev=4,e.next=7,y.a.post("/api/game-dice/cancel",{gameId:i._id});case 7:R.a.event({category:"DICE",action:"CANCEL_GAME",label:"DEGEN_GAME"}),h.b.success("Game has been cancelled"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),h.b.error(e.t0.response.data.message.toString());case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[i&&"removed"!==i.status?Object(z.jsxs)("div",{className:"gameWrapper",children:[!0===W?Object(z.jsx)(k.a,{width:800,height:1200}):Object(z.jsx)("div",{}),Object(z.jsxs)("div",{className:"players",children:[Object(z.jsx)("div",{className:"playerWrapper",children:"revealed"===i.status?Object(z.jsxs)("div",{className:(null===(t=i.winner)||void 0===t?void 0:t._id)==i.creator._id?"player winner":"player loser",children:[Object(z.jsx)(T.a,{className:"move flip",src:"./img/dice".concat(i.creatorMove,".svg")}),Object(z.jsx)(A.b,{to:"/u/".concat(i.creator.publicKey),className:"address",children:Object(L.a)(i.creator)})]}):"flipping"===i.status?Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)("div",{className:"",children:Object(z.jsx)(T.a,{onAnimationEndCapture:function(){return $("revealed")},className:"move animate__animated animate__bounce scale-up-085",src:"./img/dice-question.svg"})}),Object(z.jsx)(A.b,{to:"/u/".concat(i.creator.publicKey),className:"address",children:Object(L.a)(i.creator)})]}):Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)(T.a,{className:"move scale-up-085",src:"./img/dice-question.svg"}),Object(z.jsx)(A.b,{to:"/u/".concat(i.creator.publicKey),className:"address",children:Object(L.a)(i.creator)})]})}),Object(z.jsx)("div",{className:"middle",children:"countdown"===i.status?Object(z.jsx)(_.a,{date:i.countDownEnd,onComplete:function(){return $("flipping")},renderer:function(e){return Object(z.jsx)("h3",{children:e.seconds})}}):Object(z.jsx)("h3",{className:"vsTag",children:"VS"})}),Object(z.jsx)("div",{className:"playerWrapper",children:i.opponent?"revealed"===i.status?Object(z.jsxs)("div",{className:(null===(n=i.winner)||void 0===n?void 0:n._id)==i.opponent._id?"player winner":"player loser",children:[Object(z.jsx)(T.a,{className:"move",src:"./img/dice".concat(i.opponentMove,".svg")}),Object(z.jsx)(A.b,{to:"/u/".concat(i.opponent.publicKey),className:"address",children:Object(L.a)(i.opponent)})]}):"flipping"===i.status?Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)(T.a,{className:"move animate__animated animate__bounce scale-up-085",src:"./img/dice-question.svg"}),Object(z.jsx)(A.b,{to:"/u/".concat(i.opponent.publicKey),className:"address",children:Object(L.a)(i.opponent)})]}):Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)(T.a,{className:"move scale-up-085",src:"./img/dice-question.svg"}),Object(z.jsx)(A.b,{to:"/u/".concat(i.opponent.publicKey),className:"address",children:Object(L.a)(i.opponent)})]}):N&&i.creator._id!==N._id?Object(z.jsxs)("div",{className:"player join",children:[Object(z.jsx)("button",{onClick:function(){return u(!0)},className:"actionB",children:"Join"})," "]}):Object(z.jsxs)("div",{className:"player",children:[Object(z.jsx)(T.a,{className:"movePlaceholder",src:"/img/movePlaceholder.svg"}),Object(z.jsx)("h3",{className:"address",children:"waiting..."})]})})]}),Object(z.jsxs)("div",{className:"info",children:[Object(z.jsx)("div",{className:"bet",children:Object(z.jsxs)("h3",{children:[i.amount/O.b," SOL"]})}),!i.opponent&&N?i.creator._id===N._id?Object(z.jsx)("button",{className:"deleteB",onClick:function(){return te()},children:Object(z.jsx)(T.a,{src:"/img/bin.svg"})}):null:Object(z.jsx)(z.Fragment,{})]})]}):null,b&&Object(z.jsxs)("div",{className:"modal",style:{display:b?"flex":"none"},children:[Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("div",{className:"wrapper",children:[Object(z.jsx)("button",{className:"closeB",onClick:function(){return u(!1)},children:Object(z.jsx)("svg",{width:"14",height:"14",children:Object(z.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(z.jsx)("h1",{className:"title",children:"Join Game"}),Object(z.jsx)("div",{className:"coinChooser",children:Object(z.jsx)(T.a,{className:"scale-up-12",src:"./img/dice-question.svg"})}),Object(z.jsx)("button",{className:"actionB modalB",onClick:function(){return ee()},children:"Join"})]})}),Object(z.jsx)("div",{className:"overlay"})]})]})},P=["active","countdown","flipping"],K=[.01,.02,.05,.1,.2,.5,1,2,5];var W,H,Y,Z=function(){var e=Object(g.b)(),t=Object(c.useState)([]),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),r=Object(f.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(f.a)(d,2),b=j[0],u=j[1],m=Object(c.useState)(!1),x=Object(f.a)(m,2),N=x[0],S=x[1],C=Object(c.useState)(.05),k=Object(f.a)(C,2),_=k[0],E=k[1],A=Object(c.useState)(0),L=Object(f.a)(A,2),D=(L[0],L[1]),M=Object(c.useState)({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight}),B=Object(f.a)(M,2),F=B[0],U=B[1],W=Object(c.useState)(window.innerWidth<=768),H=Object(f.a)(W,2),Y=H[0],Z=H[1],q=function(){Z(window.innerWidth<=768),U({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight})},V=Object(w.b)(),J=Object(w.c)((function(e){return e.user})),X=Object(w.c)((function(e){return e.games})),Q=Object(w.c)((function(e){return e.sockets})),$=function(){var t=Object(v.a)(Object(p.a)().mark((function t(){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.publicKey&&_&&!N){t.next=2;break}return t.abrupt("return");case 2:if(S(!0),!(J.balance<_)){t.next=5;break}return t.abrupt("return",h.b.error("Balance needs to be higher than the game bet"));case 5:return t.prev=5,n=Math.floor(6*Math.random())+1,D(n),t.next=10,y.a.post("/api/game-dice",{amount:_*O.b,creatorMove:n});case 10:R.a.event({category:"DICE",action:"CREATE_GAME",label:"DEGEN_GAME"}),h.b.success("Game created"),u(!1),S(!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(5),h.b.error(t.t0.response.data.message.toString()),S(!1);case 20:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(){return t.apply(this,arguments)}}(),ee=function(e){e.status="ended",V({type:"UPDATE_GAME",payload:e})};return Object(c.useEffect)((function(){return window.addEventListener("resize",q),function(){window.removeEventListener("resize",q)}}),[F]),Object(c.useEffect)((function(){R.a.pageview(window.location.pathname+window.location.search);var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/game-dice/allActive");case 2:t=e.sent,V({type:"LOAD_GAMES",payload:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){Q.game&&(Q.game.on("newGame",(function(e){return V({type:"ADD_GAME",payload:e})})),Q.game.on("gameUpdate",(function(e){V({type:"UPDATE_GAME",payload:e})})))}),[Q.game]),Object(c.useEffect)((function(){var e=[],t=[];function n(e,t){return t.amount===e.amount?t.createdAt<e.createdAt?1:-1:t.amount-e.amount}X.forEach((function(n){"dice"===n.gameType&&"removed"!==n.status&&"cancelled"!==n.status&&(n.creator._id===(null===J||void 0===J?void 0:J._id)||n.opponent&&n.opponent._id===(null===J||void 0===J?void 0:J._id)?e.push(n):t.push(n))})),e=e.sort(n),t=t.sort(n),s(e),o(t)}),[J,X]),Object(z.jsxs)("div",{className:"Page ActiveGames",children:[Object(z.jsxs)("div",{className:"typeWrapper",children:[Object(z.jsxs)("div",{className:"type",children:[Object(z.jsx)("h2",{className:"typeHeader",children:"My Games"}),Object(z.jsx)("h2",{className:"gamesCounter",children:a.length})]}),J?Object(z.jsx)("button",{className:"createGameB",onClick:function(){u(!0),D(0)},children:"NEW GAME +"}):null]}),a.length>0?Object(z.jsx)("div",{className:"box games ".concat(Y&&"mobile-game-box"),children:a.map((function(e){return P.includes(e.status)?Object(z.jsx)("div",{children:Object(z.jsx)(G,{game:e,removeGame:ee})},e._id):null}))}):Object(z.jsx)("div",{className:"box typePlaceHolder",children:Object(z.jsx)("p",{children:"Your games will appear here"})}),Y&&Object(z.jsx)("div",{className:"mobile-divider"}),Object(z.jsxs)("div",{className:"type",children:[Object(z.jsx)("h2",{className:"typeHeader",children:"Open Games"}),Object(z.jsx)("h2",{className:"gamesCounter",children:l.length})]}),l.length>0?Object(z.jsx)("div",{className:"box games ".concat(Y&&"mobile-game-box"),children:l.map((function(e){return P.includes(e.status)?Object(z.jsx)("div",{children:Object(z.jsx)(G,{game:e,removeGame:ee})},e._id):null}))}):Object(z.jsx)("div",{className:"box typePlaceHolder",children:Object(z.jsx)("p",{children:"No open games at the moment"})}),Object(z.jsxs)("div",{className:"modal",style:{display:b?"flex":"none"},children:[Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("div",{className:"wrapper",children:[Object(z.jsx)("button",{className:"closeB",onClick:function(){return u(!1)},children:Object(z.jsx)("svg",{width:"14",height:"14",children:Object(z.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(z.jsx)("h1",{className:"title",children:"Create Game"}),Object(z.jsx)("div",{className:"coinChooser",children:Object(z.jsx)(T.a,{className:"scale-up-12",src:"./img/dice-question.svg"})}),Object(z.jsx)("h3",{className:"subtitle",children:"Choose Amount"}),Object(z.jsx)("div",{className:"amounts",children:K.map((function(e){return Object(z.jsx)("div",{className:_===e?"amountChosen":"amount",onClick:function(){return E(e)},children:e},e)}))}),Object(z.jsxs)("button",{className:"actionB modalB",disabled:N,onClick:function(){return $()},children:[N?"Creating...":"Create"," ",N?Object(z.jsx)(I.a,{size:13,color:"#27244f"}):null]})]})}),Object(z.jsx)("div",{className:"overlay"})]})]})},q=n(12),V=n(109),J=n(456),X=n(241),Q=n(466),$=n(467),ee=n(468),te=n(464),ne=n(465),ce=n(35),ae=n(26),se=n(232),ie=n.n(se),re=n(89),le=n.n(re),oe=n(180),de=n(9),je=de.d.div(W||(W=Object(oe.a)(["\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n"]))),be=Object(de.d)(ce.c)(H||(H=Object(oe.a)(["\n  color: #000000;\n  transform: rotate(","deg);\n"])),(function(e){return e.rotationTransform||0})),ue={pink:function(e){return Object(z.jsxs)(ce.b,Object(S.a)(Object(S.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(z.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#D750B2"}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},lilac:function(e){return Object(z.jsxs)(ce.b,Object(S.a)(Object(S.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(z.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#A881FC"}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},teal:function(e){return Object(z.jsxs)(ce.b,Object(S.a)(Object(S.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(z.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#1FC7D4"}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},aqua:function(e){return Object(z.jsxs)(ce.b,Object(S.a)(Object(S.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(z.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#31D0AA"}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},green:function(e){return Object(z.jsxs)(ce.b,Object(S.a)(Object(S.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(z.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#93D45A"}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},yellow:function(e){return Object(z.jsxs)(ce.b,Object(S.a)(Object(S.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(z.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#FFC43C"}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13245C28.9191 8.87189 28.5505 17.2575 23.2373 22.5707C17.528 28.28 8.27148 28.28 2.56223 22.5707C2.2825 22.291 2.01648 22.0028 1.76416 21.7068C4.02814 27.3487 9.54881 31.3327 16 31.3327C24.4683 31.3327 31.3332 24.4678 31.3332 15.9995C31.3332 10.6079 28.5504 5.86622 24.3428 3.13245Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7714 4.18262C30.6309 10.2119 30.2608 19.061 24.661 24.6608C19.0616 30.2602 10.2134 30.6307 4.18408 25.7722C6.99655 29.1689 11.2456 31.3329 16.0001 31.3329C24.4685 31.3329 31.3334 24.468 31.3334 15.9997C31.3334 11.2446 29.1689 6.99508 25.7714 4.18262Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10087 9.51443C3.77283 5.93689 6.78541 3.11142 10.4922 1.68435C10.5461 1.73247 10.5988 1.78231 10.6504 1.83387C12.4839 3.6674 10.912 5.74432 8.66157 7.99477C6.41112 10.2452 4.33429 11.817 2.50076 9.98347C2.3535 9.83621 2.22025 9.67943 2.10087 9.51443Z",fill:"white"})})]}))},orange:function(e){return Object(z.jsxs)(ce.b,Object(S.a)(Object(S.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(z.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#FFA500"}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13245C28.9191 8.87189 28.5505 17.2575 23.2373 22.5707C17.528 28.28 8.27148 28.28 2.56223 22.5707C2.2825 22.291 2.01648 22.0028 1.76416 21.7068C4.02814 27.3487 9.54881 31.3327 16 31.3327C24.4683 31.3327 31.3332 24.4678 31.3332 15.9995C31.3332 10.6079 28.5504 5.86622 24.3428 3.13245Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7714 4.18262C30.6309 10.2119 30.2608 19.061 24.661 24.6608C19.0616 30.2602 10.2134 30.6307 4.18408 25.7722C6.99655 29.1689 11.2456 31.3329 16.0001 31.3329C24.4685 31.3329 31.3334 24.468 31.3334 15.9997C31.3334 11.2446 29.1689 6.99508 25.7714 4.18262Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10087 9.51443C3.77283 5.93689 6.78541 3.11142 10.4922 1.68435C10.5461 1.73247 10.5988 1.78231 10.6504 1.83387C12.4839 3.6674 10.912 5.74432 8.66157 7.99477C6.41112 10.2452 4.33429 11.817 2.50076 9.98347C2.3535 9.83621 2.22025 9.67943 2.10087 9.51443Z",fill:"white"})})]}))},power:function(e){return Object(z.jsxs)(ce.b,Object(S.a)(Object(S.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(z.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#DC143C"}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13245C28.9191 8.87189 28.5505 17.2575 23.2373 22.5707C17.528 28.28 8.27148 28.28 2.56223 22.5707C2.2825 22.291 2.01648 22.0028 1.76416 21.7068C4.02814 27.3487 9.54881 31.3327 16 31.3327C24.4683 31.3327 31.3332 24.4678 31.3332 15.9995C31.3332 10.6079 28.5504 5.86622 24.3428 3.13245Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7714 4.18262C30.6309 10.2119 30.2608 19.061 24.661 24.6608C19.0616 30.2602 10.2134 30.6307 4.18408 25.7722C6.99655 29.1689 11.2456 31.3329 16.0001 31.3329C24.4685 31.3329 31.3334 24.468 31.3334 15.9997C31.3334 11.2446 29.1689 6.99508 25.7714 4.18262Z",fill:"black"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(z.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10087 9.51443C3.77283 5.93689 6.78541 3.11142 10.4922 1.68435C10.5461 1.73247 10.5988 1.78231 10.6504 1.83387C12.4839 3.6674 10.912 5.74432 8.66157 7.99477C6.41112 10.2452 4.33429 11.817 2.50076 9.98347C2.3535 9.83621 2.22025 9.67943 2.10087 9.51443Z",fill:"white"})})]}))}},Oe=function(e){var t=e.color,n=e.number,c=e.size,a=e.fontSize,s=e.rotationTransform,i=ue[t];return Object(z.jsxs)(ce.a,{alignItems:"center",justifyContent:"center",position:"relative",mx:"2px",children:[Object(z.jsx)(i,{width:null!==c&&void 0!==c?c:"32px",height:null!==c&&void 0!==c?c:"32px"}),Object(z.jsx)(je,{children:Object(z.jsx)(be,{rotationTransform:s,bold:!0,fontSize:null!==a&&void 0!==a?a:"16px",children:n})})]})},me=["numAsArray","size","fontSize","rotateText","indexArray"],he=function(e){var t=e.numAsArray,n=e.size,a=void 0===n?"32px":n,s=e.fontSize,i=void 0===s?"16px":s,r=e.rotateText,l=e.indexArray,o=Object(ae.a)(e,me),d=Object(c.useState)([]),j=Object(f.a)(d,2),b=j[0],u=j[1],O=["pink","lilac","teal","aqua","green","yellow","orange","power"];return Object(c.useEffect)((function(){r&&t&&0===b.length&&u(t.map((function(){return ie()(-30,30)})))}),[r,t,b,l]),Object(z.jsx)(ce.a,Object(S.a)(Object(S.a)({justifyContent:"space-between"},o),{},{children:Array.isArray(t)&&t.map((function(e,t){return l?Object(z.jsx)("div",{className:"".concat(l.includes(t)?"bordered-item":""),children:Object(z.jsx)(Oe,{rotationTransform:r&&b[t],size:a,fontSize:i,color:O[t],number:e})},le()()):Object(z.jsx)(Oe,{rotationTransform:r&&b[t],size:a,fontSize:i,color:O[t],number:e},le()())}))}))};n(376);!function(e){e[e.Pending=0]="Pending",e[e.Open=1]="Open",e[e.Close=2]="Close"}(Y||(Y={}));n(377);var xe=function(){return Object(z.jsx)("div",{className:"lottery-divider"})},pe=(n(378),function(){var e="28px",t="18px";return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"how-to-play",children:Object(z.jsxs)("div",{className:"how-to-play-container",children:[Object(z.jsxs)("div",{className:"w-100 how-to-play-title",children:[Object(z.jsx)("h2",{children:"How To Play"}),Object(z.jsxs)("div",{children:["If ",Object(z.jsx)("b",{children:"your lucky numbers"})," match the winning numbers we draw, ",Object(z.jsx)("b",{children:"You Win!"})]}),Object(z.jsx)("div",{})]}),Object(z.jsxs)("div",{className:"how-to-play-step",children:[Object(z.jsx)("div",{className:"how-to-play-step-card box",children:Object(z.jsxs)("div",{className:"how-to-play-step-card-container",children:[Object(z.jsx)("div",{className:"step-number",children:"Step 1"}),Object(z.jsx)("h2",{className:"step-title",children:"Buy Tickets"}),Object(z.jsx)("div",{className:"step-description",children:"Prices are set when the round starts."})]})}),Object(z.jsx)("div",{className:"how-to-play-step-card box",children:Object(z.jsxs)("div",{className:"how-to-play-step-card-container",children:[Object(z.jsx)("div",{className:"step-number",children:"Step 2"}),Object(z.jsx)("h2",{className:"step-title",children:"Wait for the Draw"}),Object(z.jsx)("div",{className:"step-description",children:"There is one draw every week."})]})}),Object(z.jsx)("div",{className:"how-to-play-step-card box",children:Object(z.jsxs)("div",{className:"how-to-play-step-card-container",children:[Object(z.jsx)("div",{className:"step-number",children:"Step 3"}),Object(z.jsx)("h2",{className:"step-title",children:"Check for Prizes"}),Object(z.jsx)("div",{className:"step-description",children:"Check your tickets to see if you won! Balances will be added automatically."})]})})]}),Object(z.jsx)(xe,{}),Object(z.jsx)("div",{className:"winning-criteria",children:Object(z.jsxs)("div",{className:"winning-criteria-description",children:[Object(z.jsx)("h2",{className:"winning-criteria-title-1",children:"Winning Criteria"}),Object(z.jsx)("div",{className:"winning-criteria-contents-mb",children:"Solanaball has 7 main numbers and the unique Solanaball. The 7 main numbers are randomly drawn from a a selection of balls numbered from 1 to 35. The all-important Solanaball is chosen from a different random selection of balls numbered from 1 to 20. To win Division 1, you must match all 7 main numbers and the Solanaball in any one game line. The numbers can be in any order, you just need to have them all to win. However, you don\u2019t have to match every single number to win in another Division in Solanaball. You just have to match at least 2 main numbers plus the Solanaball number and you could win a share in the Division 9 prize. For more information on Solanaball winning combinations for all 9 Solanaball Divisions take a look at the table below in the next section."})]})}),Object(z.jsx)(xe,{}),Object(z.jsxs)("div",{className:"winning-combination-container text-start",children:[Object(z.jsx)("h2",{className:"winning-combination-title",children:"Winning combination"}),Object(z.jsx)("div",{className:"winning-combination-container-level1 box",children:Object(z.jsxs)("div",{className:"winning-combination-container-level2",children:[Object(z.jsxs)("table",{className:"winning-combination-table",children:[Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{children:"Division"}),Object(z.jsx)("th",{children:"Solanaball winning combination"}),Object(z.jsx)("th",{children:"Division Solanaball payouts"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 1"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"plus-icon"}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"power",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"40% of the prize pool"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 2"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"1.1% of the prize pool"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 3"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"plus-icon"}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"power",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"1.1% of the prize pool"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 4"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"2% of the prize pool"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 5"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"plus-icon"}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"power",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"1.5% of the prize pool"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 6"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"plus-icon"}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"power",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"9.7% of the prize pool"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 7"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"7.6% of the prize pool"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 8"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"plus-icon"}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"power",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"15% of the prize pool"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:"Division 9"}),Object(z.jsxs)("td",{children:[Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"teal",number:"",rotationTransform:!1})}),Object(z.jsx)("span",{className:"plus-icon"}),Object(z.jsx)("span",{className:"prize-ball-container",children:Object(z.jsx)(Oe,{size:e,fontSize:t,color:"power",number:"",rotationTransform:!1})})]}),Object(z.jsx)("td",{children:"22% of the prize pool"})]})]}),Object(z.jsx)("div",{className:"mt-3",children:"In the above table, you may also be wondering why Division 9 pays out 22% of the prize pool while Division 7 pays out a lower percentage. This is because the chances of winning Division 9 are much higher than Division 7, so it\u2019s expected that if you win Division 9, you\u2019ll be sharing your winnings with other successful players."})]})})]}),Object(z.jsx)(xe,{}),Object(z.jsx)("div",{className:"winning-criteria",children:Object(z.jsxs)("div",{className:"winning-criteria-description",children:[Object(z.jsx)("h2",{className:"winning-criteria-title-1",children:"Prize Funds"}),Object(z.jsx)("div",{className:"winning-criteria-contents-mb",children:"The prizes for each lottery round come from three sources:"}),Object(z.jsx)("h2",{className:"winning-criteria-title-2",children:"Ticket Purchases"}),Object(z.jsx)("ul",{children:Object(z.jsx)("li",{children:Object(z.jsx)("div",{color:"textSubtle",children:"80% of the SOL paid by people buying tickets that round goes back into the prize pools."})})}),Object(z.jsx)("h2",{className:"winning-criteria-title-2",children:"Rollover Prizes"}),Object(z.jsx)("ul",{children:Object(z.jsx)("li",{children:Object(z.jsx)("div",{color:"textSubtle",children:"After every round, if nobody wins in one of the prize brackets, the unclaimed SOL for that bracket rolls over into the next round and are redistributed among the prize pools."})})}),Object(z.jsx)("h2",{className:"winning-criteria-title-2",children:"Rollover Injections"}),Object(z.jsx)("ul",{children:Object(z.jsx)("li",{children:Object(z.jsx)("div",{color:"textSubtle",children:"The pot will be restarted on any successful Division 1 win with funds accumulated from previous prize pools. Funds may also be added to increase ticket sales."})})})]})})]})})})}),ve=(n(213),function(e){var t,n=Object(c.useState)(!1),a=Object(f.a)(n,2),s=a[0],i=a[1],r=Object(ce.d)(),l=r.isLg,o=r.isXl,d=r.isXxl,j=l,b=o||d,u=e.lottery,m=e.finishedLotteryInfo,h=u.finishedRounds,x=m.latestLotteryId,g=m.lotteryIndex,N=m.indexedLottery;return Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i(!0),i(!1)}catch(t){i(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h,m]),Object(z.jsx)("div",{className:"finished-rounds align-self-center",children:Object(z.jsx)("div",{className:"finished-rounds-container",children:Object(z.jsx)("div",{className:"finished-rounds-box",children:Object(z.jsx)("div",{className:"finished-rounds-history-container box",children:Object(z.jsxs)("div",{className:"finished-rounds-history-box",children:[Object(z.jsx)("div",{className:"history-card-header",children:Object(z.jsx)("div",{className:"history-card-header-bar",children:Object(z.jsx)("div",{className:"history-rounds-box",children:Object(z.jsx)("h2",{className:"round-title",children:"All History"})})})}),Object(z.jsx)("div",{className:"history-card-body",children:x>0?Object(z.jsxs)(z.Fragment,{children:[g>=1&&g==x&&Object(z.jsx)("div",{className:"history-card-ribbon",children:Object(z.jsx)("div",{children:"Latest"})}),Object(z.jsxs)("div",{className:"winning-number-container",children:[Object(z.jsx)("div",{className:"winning-number-title",children:Object(z.jsx)("h2",{className:"winning-number-title-text-1",children:"Winning Number"})}),s?Object(z.jsx)(X.a.Input,{active:!0,size:"large"}):N?Object(z.jsx)(ce.a,{maxWidth:["100%",null,null,"500px"],justifyContent:["center",null,null,"flex-start"],children:Object(z.jsx)(he,{rotateText:!1,numAsArray:N.winningNumber,mr:[null,null,null,"32px"],size:"100%",fontSize:b?"24px":j?"16px":"12px"})}):Object(z.jsx)("h3",{className:"dark-color",children:"Nothing"})]})]}):Object(z.jsx)("h3",{children:"No Data"})}),Object(z.jsx)("div",{className:"history-card-footer",children:Object(z.jsxs)("div",{className:"history-card-details",children:[Object(z.jsxs)("div",{className:"row mb-4 text-center",children:[Object(z.jsx)("div",{children:Object(z.jsxs)("h2",{className:"margin-none",children:["Prize Pot:"," ",Object(z.jsxs)("span",{className:"default-font-color2",children:[(N.ticketCount||0)>0?(((N.amountCollectedInGame||0)-.2*((N.amountCollectedInGame||0)-(N.startLotteryAmount||0)))/O.b).toLocaleString():((N.amountCollectedInGame||0)/O.b).toLocaleString(),"SOL"]})]})}),Object(z.jsx)("div",{className:"roboto",children:"Match the winning number to share prizes."})]}),Object(z.jsx)("div",{className:"row text-center",children:N&&Array.isArray(null===N||void 0===N?void 0:N.rewardBreadkdown)&&(null===N||void 0===N||null===(t=N.rewardBreadkdown)||void 0===t?void 0:t.map((function(e,t){var n,c;return Object(z.jsxs)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-6",children:[Object(z.jsx)("div",{className:"ticket-match-category",children:"Division ".concat(t+1," (").concat(e,"%)")}),Object(z.jsx)("div",{className:"reward-ticket-amount",children:Object(z.jsx)("span",{children:((null===N||void 0===N?void 0:N.ticketCount)||0)>0?((((null===N||void 0===N?void 0:N.amountCollectedInGame)||0)-.2*(((null===N||void 0===N?void 0:N.amountCollectedInGame)||0)-((null===N||void 0===N?void 0:N.startLotteryAmount)||0)))*e/100/O.b).toLocaleString():(((null===N||void 0===N?void 0:N.amountCollectedInGame)||0)*e/100/O.b).toLocaleString()})}),Object(z.jsx)("div",{className:"reward-per-bracket",children:Object(z.jsxs)("span",{children:[(((null===N||void 0===N?void 0:N.solPerBracket)||Object(q.a)(Array(null===N||void 0===N||null===(n=N.rewardBreadkdown)||void 0===n?void 0:n.length).fill(0)))[t]/O.b).toLocaleString()," ","SOL each"]})}),Object(z.jsx)("div",{className:"count-winners-per-bracket",children:Object(z.jsxs)("span",{children:[((null===N||void 0===N?void 0:N.countWinnersPerBracket)||Object(q.a)(Array(null===N||void 0===N||null===(c=N.rewardBreadkdown)||void 0===c?void 0:c.length).fill(0)))[t]," ","Winners"]})})]},t)})))})]})})]})})})})})}),fe=function(e){var t=Object(c.useState)(),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!1),r=Object(f.a)(i,2),l=r[0],o=r[1],d=Object(ce.d)(),j=d.isLg,b=d.isXl,u=d.isXxl,O=j,m=b||u,h=e.lottery,x=e.finishedLotteryInfo,N=h.finishedRounds,w=(x.latestLotteryId,x.lotteryIndex,x.indexedLottery),S=Object(g.b)(),C=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o(!0),o(!1)}catch(t){o(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[N,x]),Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(w._id&&S&&S.publicKey)){e.next=9;break}return o(!0),t={params:{lotteryId:w._id}},e.next=6,y.a.get("/api/lottery-game/userLotteryInfo",t);case 6:n=e.sent,s(n.data),o(!1);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[w,S]),Object(z.jsx)("div",{className:"finished-rounds align-self-center",children:Object(z.jsx)("div",{className:"finished-rounds-container",children:Object(z.jsx)("div",{className:"finished-rounds-box",children:Object(z.jsx)("div",{className:"finished-rounds-history-container box",children:Object(z.jsxs)("div",{className:"finished-rounds-history-box users-history-box",children:[Object(z.jsx)("div",{className:"history-card-header",children:Object(z.jsx)("div",{className:"history-card-header-bar",children:Object(z.jsx)("div",{className:"history-rounds-box",children:Object(z.jsx)("h2",{className:"round-title",children:"Your History"})})})}),Object(z.jsx)("div",{className:"history-card-footer",style:{borderTop:"none"},children:Object(z.jsx)("div",{className:"history-card-details",children:Object(z.jsxs)("div",{className:"row text-start justify-content-center scroll-over-y-1",children:[Object(z.jsx)("h2",{className:"text-center",children:"Your winning tickets"}),l?Object(z.jsx)(X.a.Input,{active:!0,size:"large"}):null!==a&&void 0!==a&&a.matchingTicketIdsPerBracket&&a.matchingCountPerBracket.reduce((function(e,t){return e+t}),0)>0?a.matchingCountPerBracket.map((function(e,t){return e>0&&Object(z.jsxs)(c.Fragment,{children:[Object(z.jsx)("div",{children:Object(z.jsx)("h3",{className:"margin-none",children:"Division ".concat(t+1,": ")})}),a.matchingTicketIdsPerBracket[t].map((function(e,n){return(null===a||void 0===a?void 0:a.matchingNumberIndexArray[t])&&(null===a||void 0===a?void 0:a.matchingNumberIndexArray[t].length)>0&&Object(z.jsx)(ce.a,{maxWidth:["240px",null,null,"100%"],justifyContent:["center",null,null,"flex-start"],children:Object(z.jsx)(he,{rotateText:!1,numAsArray:e,indexArray:null===a||void 0===a?void 0:a.matchingNumberIndexArray[t][n],mr:[null,null,null,"32px"],size:"95%",fontSize:m?"24px":O?"16px":"12px"})},n)}))]},t)})):Object(z.jsx)("h3",{className:"text-center dark-color margin-none",children:"Nothing"})]})})}),Object(z.jsx)("div",{className:"history-card-body",children:Object(z.jsxs)("div",{className:null!==a&&void 0!==a&&a.boughtTickets?"ticket-bought-container w-100 mb-5":"",children:[Object(z.jsx)("div",{children:Object(z.jsx)("h2",{className:"winning-number-title-text-2 margin-top-none",children:"Tickets you bought"})}),l?Object(z.jsx)(X.a.Input,{active:!0,size:"large"}):null!==a&&void 0!==a&&a.boughtTickets?Object(z.jsx)(V.a,{data:null===a||void 0===a?void 0:a.boughtTickets,ref:C,itemContent:function(e,t){return Object(z.jsx)(ce.a,{maxWidth:["240px",null,null,"100%"],justifyContent:["center",null,null,"flex-start"],children:Object(z.jsx)(he,{rotateText:!1,numAsArray:t,mr:[null,null,null,"32px"],size:"95%",fontSize:m?"24px":O?"16px":"12px"})},e)}}):Object(z.jsx)("h3",{className:"dark-color",children:"Nothing"})]})})]})})})})})};var ge=function(){var e,t,n,s,i=Object(g.b)(),r=J.a.Countdown,l=Object(c.useState)(0),o=Object(f.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(0),u=Object(f.a)(b,2),m=u[0],x=u[1],N=Object(c.useState)(0),S=Object(f.a)(N,2),C=S[0],k=S[1],_=Object(c.useState)(0),T=Object(f.a)(_,2),E=T[0],A=T[1],L=Object(c.useState)(0),D=Object(f.a)(L,2),M=D[0],B=D[1],F=Object(c.useState)(!0),U=Object(f.a)(F,2),G=U[0],P=U[1],K=Object(c.useState)(new Array(7).fill(0)),W=Object(f.a)(K,2),H=W[0],Z=W[1],ae=Object(c.useState)(""),se=Object(f.a)(ae,2),ie=se[0],re=se[1],le=Object(c.useState)(!1),oe=Object(f.a)(le,2),de=oe[0],je=oe[1],be=Object(c.useState)(!1),ue=Object(f.a)(be,2),Oe=ue[0],me=ue[1],xe=Object(c.useState)(!1),ge=Object(f.a)(xe,2),Ne=ge[0],ye=ge[1],we=Object(c.useState)({}),Se=Object(f.a)(we,2),Ce=Se[0],ke=Se[1],_e=Object(c.useState)(),Te=Object(f.a)(_e,2),Ee=Te[0],Ae=Te[1],Le=Object(c.useState)(0),Re=Object(f.a)(Le,2),ze=Re[0],De=Re[1],Me=Object(c.useState)(0),Ie=Object(f.a)(Me,2),Be=Ie[0],Fe=Ie[1],Ue=Object(c.useState)({}),Ge=Object(f.a)(Ue,2),Pe=Ge[0],Ke=Ge[1],We=Object(c.useState)(Object(q.a)(Array(8).fill(""))),He=Object(f.a)(We,2),Ye=He[0],Ze=He[1],qe=Object(c.useState)([]),Ve=Object(f.a)(qe,2),Je=Ve[0],Xe=Ve[1],Qe=Object(c.useState)(0),$e=Object(f.a)(Qe,2),et=$e[0],tt=$e[1],nt=Object(c.useState)(!1),ct=Object(f.a)(nt,2),at=ct[0],st=ct[1],it=Object(c.useState)({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight}),rt=Object(f.a)(it,2),lt=rt[0],ot=rt[1],dt=Object(c.useState)(window.innerWidth<=768),jt=Object(f.a)(dt,2),bt=jt[0],ut=jt[1],Ot=function(){ut(window.innerWidth<=768),ot({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight})},mt=Object(ce.d)(),ht=mt.isLg,xt=mt.isXl,pt=mt.isXxl,vt=ht,ft=xt||pt,gt=a.a.useRef(null),Nt=a.a.useRef(null),yt=Object(c.useRef)(null),wt=Object(w.b)(),St=Object(w.c)((function(e){return e.user})),Ct=(Object(w.c)((function(e){return e.games})),Object(w.c)((function(e){return e.sockets}))),kt=Object(w.c)((function(e){return e.lottery})),_t=function(){j(0),x(0),k(0),A(0),B(0),P(!0),re(""),Ze(Object(q.a)(Array(8).fill(""))),Xe([])},Tt=function(e){_t(),tt(e)},Et=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&i.publicKey){e.next=3;break}return h.b.warn("Please check wallet connection"),e.abrupt("return");case 3:if(Ce.status===Y.Open){e.next=6;break}return h.b.warn("Not time to buy tickets"),e.abrupt("return");case 6:if(!(d<=0)){e.next=11;break}return"Invalid amount",P(!0),re("Invalid amount"),e.abrupt("return");case 11:if(!G){e.next=13;break}return e.abrupt("return");case 13:je(!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),At=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t,n,c,a,s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(!0),e.prev=1,e.next=4,Promise.all(new Array(d).fill(0).map(function(){var e=Object(v.a)(Object(p.a)().mark((function e(t,n){var c,a,s,i;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=[],a=1;a<=8;a++)s=!0,a<8?(i=Math.floor(35*Math.random())+1,c.includes(i)&&(s=!1),s?c.push(i):a--):c.sort((function(e,t){return e-t})).push(Math.floor(20*Math.random())+1);return e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 4:return t=e.sent,n=0==et?t:Je,e.next=8,y.a.post("/api/lottery-game/buy-tickets",{lotteryId:Ce._id,tickets:n});case 8:R.a.event({category:"LOTTERY",action:"BUY_TICKETS",label:"DEGEN_GAME"}),h.b.success("Success to buy tickets"),0==et&&(Nt.current.value=0),_t(),je(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),je(!1),h.b.error(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(a=c.data)||void 0===a||null===(s=a.message)||void 0===s?void 0:s.toString());case 19:ye(!1);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),Lt=function(e,t){var n=Number(void 0!==t?t:e.target.value),c=(null===Ce||void 0===Ce?void 0:Ce.maxAmountPerBuy)||0;!t&&n>c&&(Nt.current.value=c),j(n=n>c?c:n);var a=(Ce.priceTicketInGame||0)/O.b,s=Ce.discountDivisor||2e3,i=a*n,r=a*n*(s+1-n)/s,l=0==n?0:(n-1)/s,o=i*l;x(i),k(r),A(l),B(o),P(!0);var d="";n<=0?d="Invaild amount":n>c?d="Exceed max amount per buy":r<=0?d="Invaild ticket price":r>(null===St||void 0===St?void 0:St.balance)/O.b?d="Insufficient balance":P(!1),re(d)},Rt=function(e,t){var n,c=null===(n=gt.current)||void 0===n?void 0:n.getElementsByClassName("buy-ticket-pick-input"),a=Number(e.target.value);a=a>35?35:a,c[t].style.borderColor=a<=0?"#dc3545":"rgb(118, 118, 118)",t<7&&(Ye.includes(a.toString())?(c[t].style.borderColor="#dc3545",H[t]=1):(c[t].style.borderColor="rgb(118, 118, 118)",H[t]=0),H.includes(1)?re("You can't pick duplicated number"):re(""),Number(e.target.value)>35&&(e.target.value=35)),7==t&&a>20&&(e.target.value=20);var s=Ye;s[t]=e.target.value,Ze(s),Z(H)},zt=function(e){var t,n=!1;if(!(Ye.length<8||Ye.includes())){for(var c=null===(t=gt.current)||void 0===t?void 0:t.getElementsByClassName("buy-ticket-pick-input"),a=0;a<c.length;a++)a<7&&(Number(c[a].value)<1||Number(c[a].value)>35||1==H[a])&&(c[a].style.borderColor="#dc3545",n=!0),7==a&&(Number(c[a].value)<1||Number(c[a].value)>20)&&(c[a].style.borderColor="#dc3545",n=!0);if(!n){for(var s=0;s<c.length;s++)c[s].value="";j(d+1),Lt(e,d+1);var i=Ye.slice(0,7),r=Ye.slice(7);i.sort((function(e,t){return e-t}));var l=i.concat(r);Je.push(l),Xe(Je),Ze(Object(q.a)(Array(8).fill("")))}}},Dt=function(e,t){Je.splice(t,1),j(d-1),Lt(e,d-1),Xe(Je),Ze(Object(q.a)(Array(8).fill("")))},Mt=function(e){me(e)},It=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ze<1)){e.next=2;break}return e.abrupt("return");case 2:t>=1&&t<=ze&&(st(!0),Ke(kt.finishedRounds[t-1]),Fe(t),st(!1));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return window.addEventListener("resize",Ot),function(){window.removeEventListener("resize",Ot)}}),[lt]),Object(c.useEffect)((function(){document.body.style.backgroundImage="url('/img/b2.png')",R.a.pageview(window.location.pathname+window.location.search)}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t,n,c,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/lottery-game/finishedRounds");case 2:return t=e.sent,e.next=5,y.a.get("/api/lottery-game/lastRound");case 5:if(!((n=e.sent).data&&i&&i.publicKey)){e.next=13;break}return c={params:{lotteryId:n.data._id}},e.next=10,y.a.get("/api/lottery-game/userLotteryInfo",c);case 10:a=e.sent,console.log("currentLotteryUserInfo",a.data),wt({type:"SET_USER_LOTTERY_INFO",payload:a.data});case 13:wt({type:"SET_FINISHED_ROUNDS",payload:t.data}),wt({type:"SET_LAST_ROUND",payload:n.data});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[i]),Object(c.useEffect)((function(){Ct.lottery&&Ct&&Ct.user&&(Ct.lottery.on("newLottery",(function(e){return wt({type:"SET_LAST_ROUND",payload:e})})),Ct.user.on("boughtTickets",(function(e,t){return wt({type:"BOUGHT_TICKETS",payload:{price:e,boughtTickets:t}})})),Ct.lottery.on("closedLottery",(function(e){return wt({type:"CLOSED_LOTTERY",payload:e})})))}),[Ct.lottery]),Object(c.useEffect)((function(){var e=kt.lastRound,t=kt.userLotteryInfo,n=kt.finishedRounds;ke(e),Ae(t);var c=n.length>0?n.length:0,a=c>0?n[c-1]:{};Fe(c),De(c),Ke(a)}),[St,kt]),Object(z.jsxs)("div",{className:"Page ActiveGames w-100 ".concat(bt&&"mobile-lottery-page"),children:[Object(z.jsx)("h1",{className:"gameTitle",children:Object(z.jsx)("span",{children:"Solanaball"})}),Object(z.jsx)("div",{className:"prize-notification",children:(null===Ce||void 0===Ce?void 0:Ce.status)===Y.Open?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"gameTitle-container",children:[Object(z.jsx)("h2",{className:"prize-text-1",children:"".concat((((null===Ce||void 0===Ce?void 0:Ce.amountCollectedInGame)||0)/O.b).toLocaleString()," SOL")}),Object(z.jsx)("h2",{className:"prize-text-2",children:"in prizes!"})]}),Object(z.jsx)(r,{value:Ce.endedAt,format:"DD:HH:mm:ss",className:"text-white",style:{color:"white"}})]}):Object(z.jsx)("h2",{className:"prize-text-1 lottery-ticket-ready-title",children:"Tickets on sale soon"})}),bt&&Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"row mb-3",children:Object(z.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12",children:Object(z.jsxs)("div",{className:"box buy-box mobile-buy-box",children:[Object(z.jsxs)("div",{className:"buy-box-header justify-content-between",children:[Object(z.jsxs)("div",{className:"primate-container",children:[Object(z.jsx)("img",{src:"img/primate.png",className:"primate"}),Object(z.jsxs)("p",{children:["Buy 5 Tickets or more and enter the raffle"," ",Object(z.jsx)("span",{children:"to win this exclusive Primate NFT!"})]})]}),Object(z.jsx)("div",{className:"buy-box-title",children:"Buy Tickets"}),Object(z.jsx)("div",{className:"finished-rounds-switch-btn-container",children:Object(z.jsxs)("div",{className:"finished-rounds-switch-btn-box",children:[Object(z.jsx)("button",{className:"toggle-round-btn ".concat(0==et?"":"toggle-non-active"),onClick:function(){return Tt(0)},children:"Random"}),Object(z.jsx)("button",{className:"toggle-round-btn ".concat(0==et?"toggle-non-active":""),onClick:function(){return Tt(1)},children:"Pick"})]})})]}),Object(z.jsxs)("div",{className:"buy-box-body",children:[0==et?Object(z.jsxs)("div",{className:"mb-3",children:[Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font mb-1",children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{})}),Object(z.jsx)("div",{className:"font-weight-bold",children:"# Tickets"})]}),Object(z.jsx)("input",{className:"buy-ticket-amount-input text-end mb-1",type:"number",ref:Nt,defaultValue:0,onInput:function(e){return Lt(e)}}),Object(z.jsxs)("div",{className:"text-end buy-ticket-balance",children:["SOL Balance:"," ",St?1*Number(((null===St||void 0===St?void 0:St.balance)/O.b).toFixed(5)):"-"]}),0==et&&G&&Object(z.jsx)("div",{className:"text-end err-msg",children:ie})]}):Object(z.jsxs)(z.Fragment,{children:[Je.map((function(e,t){return Object(z.jsxs)(ce.a,{maxWidth:["100%",null,null,"500px"],justifyContent:["center",null,null,"flex-start"],position:["relative",null,null,"relative"],children:[Object(z.jsx)("div",{className:"icon-container",children:Object(z.jsx)(te.a,{className:"control-icon",onClick:function(e){return Dt(e,t)}})}),Object(z.jsx)(he,{rotateText:!1,numAsArray:e,mr:[null,null,null,"null"],size:"98%",fontSize:ft?"18px":vt?"16px":"12px"})]},t)})),Object(z.jsxs)("div",{className:"buy-ticket-pick-container mt-1",ref:gt,children:[Object(z.jsx)("div",{className:"buy-ticket-pick-whiteball-container mb-1",children:Object(q.a)(Array(7)).map((function(e,t){return Object(z.jsx)("input",{min:1,max:25,type:"number",className:"buy-ticket-pick-input",onChange:function(e){return Rt(e,t)}},t)}))}),Object(z.jsx)("div",{className:"align-self-center mb-1",children:Object(z.jsx)("input",{min:1,max:20,type:"number",className:"buy-ticket-pick-input",onChange:function(e){return Rt(e,7)}})}),Object(z.jsx)("div",{className:"align-self-center mb-1",children:Object(z.jsx)(ne.a,{className:"ticket-plus-icon",onClick:function(e){return zt(e)}})})]})]}),1==et&&G&&Object(z.jsx)("div",{className:"text-end err-msg",children:ie}),Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font mt-3 mb-2",children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{children:"Ticket Price"})}),Object(z.jsx)("div",{children:Object(z.jsxs)("b",{children:[Number((((null===Ce||void 0===Ce?void 0:Ce.priceTicketInGame)||0)/O.b).toLocaleString())," ","SOL"]})})]}),Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font mt-3 mb-2",children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{children:"Total Cost"})}),Object(z.jsx)("div",{children:Object(z.jsxs)("b",{children:[1*Number(m.toFixed(5))," SOL"]})})]}),Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font",children:[Object(z.jsxs)("div",{children:[Object(z.jsxs)("b",{children:[(100*E).toFixed(2),"%"]})," Bulk Purchase Discount."]}),Object(z.jsx)("div",{children:Object(z.jsxs)("b",{children:[1*Number(M.toFixed(5))," SOL"]})})]}),Object(z.jsx)("hr",{}),Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font",children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{children:"You Pay"})}),Object(z.jsxs)("div",{className:"font-weight-bold",children:["~",1*Number(C.toFixed(5))," SOL"]})]})]}),Object(z.jsxs)("div",{className:"buy-box-footer",children:[Object(z.jsx)("div",{className:"w-100 row",children:Object(z.jsx)("button",{className:"buy-ticket-btn",onClick:Et,children:"Buy Tickets"})}),Object(z.jsx)("div",{className:"buy-ticket-description mb-3",children:"Random Ticket purchases are unique with no duplicates. Prices are set before each round starts. Purchases are final. Thanks for playing."}),Object(z.jsx)("div",{children:null!==Ee&&void 0!==Ee&&Ee.boughtTickets&&(null===(e=Ee.boughtTickets)||void 0===e?void 0:e.length)>0?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h4",{className:"margin-none",children:"You have ".concat(null===Ee||void 0===Ee||null===(t=Ee.boughtTickets)||void 0===t?void 0:t.length," tickets now")}),Object(z.jsx)("span",{onClick:function(){return Mt(!0)},className:"ticket-link",children:"My Tickets"})]}):Object(z.jsx)("h4",{className:"margin-none",children:"You have no tickets yet"})})]})]})})})}),Object(z.jsxs)("div",{className:"row",children:[Object(z.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-9 col-xl-9",children:[Object(z.jsxs)("div",{className:"history-card-header-bar mb-2 justify-content-between",children:[Object(z.jsx)("div",{className:"drawn-date",children:at?Object(z.jsx)(X.a.Input,{active:!0,size:"default"}):Object(z.jsx)(z.Fragment,{children:Pe&&Be>0&&"#".concat(Be," | Draw: ").concat(new Date((null===Pe||void 0===Pe?void 0:Pe.endedAt)||Date.now()).toLocaleString())})}),Object(z.jsxs)("div",{className:"d-flex",children:[Object(z.jsxs)("div",{className:"history-rounds-box",children:[Object(z.jsx)("h2",{className:"round-title",children:"Round"}),Object(z.jsx)("input",{className:"round-number text-center",value:Be>0?Be:"",readOnly:!0})]}),Object(z.jsx)("div",{className:"history-rounds-box ml-3",children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Q.a,{className:"".concat((0==ze||1==Be)&&"disabled-btn disabled"),onClick:function(){return It(Be-1)}}),Object(z.jsx)($.a,{className:"".concat((0==ze||Be==ze)&&"disabled-btn disabled"," ml-3"),onClick:function(){return It(Be+1)}}),Object(z.jsx)(ee.a,{className:"".concat((0==ze||Be==ze)&&"disabled-btn disabled"," ml-3"),onClick:function(){return It(ze)}})]})})]})]}),Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(z.jsx)(ve,{lottery:kt,finishedLotteryInfo:{latestLotteryId:ze,lotteryIndex:Be,indexedLottery:Pe}})}),Object(z.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(z.jsx)(fe,{lottery:kt,finishedLotteryInfo:{latestLotteryId:ze,lotteryIndex:Be,indexedLottery:Pe}})})]})]}),!bt&&Object(z.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-3 col-xl-3",children:Object(z.jsxs)("div",{className:"box buy-box",children:[Object(z.jsxs)("div",{className:"buy-box-header justify-content-between",children:[Object(z.jsxs)("div",{className:"primate-container",children:[Object(z.jsx)("img",{src:"img/primate.png",className:"primate"}),Object(z.jsxs)("p",{children:["Buy 5 Tickets or more and enter the raffle"," ",Object(z.jsx)("span",{children:"to win this exclusive Primate NFT!"})]})]}),Object(z.jsx)("div",{className:"buy-box-title",children:"Buy Tickets"}),Object(z.jsx)("div",{className:"finished-rounds-switch-btn-container",children:Object(z.jsxs)("div",{className:"finished-rounds-switch-btn-box",children:[Object(z.jsx)("button",{className:"toggle-round-btn ".concat(0==et?"":"toggle-non-active"),onClick:function(){return Tt(0)},children:"Random"}),Object(z.jsx)("button",{className:"toggle-round-btn ".concat(0==et?"toggle-non-active":""),onClick:function(){return Tt(1)},children:"Pick"})]})})]}),Object(z.jsxs)("div",{className:"buy-box-body",children:[0==et?Object(z.jsxs)("div",{className:"mb-3",children:[Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font mb-1",children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{})}),Object(z.jsx)("div",{className:"font-weight-bold",children:"# Tickets"})]}),Object(z.jsx)("input",{className:"buy-ticket-amount-input text-end mb-1",type:"number",ref:Nt,defaultValue:0,onInput:function(e){return Lt(e)}}),Object(z.jsxs)("div",{className:"text-end buy-ticket-balance",children:["SOL Balance:"," ",St?1*Number(((null===St||void 0===St?void 0:St.balance)/O.b).toFixed(5)):"-"]}),0==et&&G&&Object(z.jsx)("div",{className:"text-end err-msg",children:ie})]}):Object(z.jsxs)(z.Fragment,{children:[Je.map((function(e,t){return Object(z.jsxs)(ce.a,{maxWidth:["100%",null,null,"500px"],justifyContent:["center",null,null,"flex-start"],position:["relative",null,null,"relative"],children:[Object(z.jsx)("div",{className:"icon-container",children:Object(z.jsx)(te.a,{className:"control-icon",onClick:function(e){return Dt(e,t)}})}),Object(z.jsx)(he,{rotateText:!1,numAsArray:e,mr:[null,null,null,"null"],size:"98%",fontSize:ft?"18px":vt?"16px":"12px"})]},t)})),Object(z.jsxs)("div",{className:"buy-ticket-pick-container mt-1",ref:gt,children:[Object(z.jsx)("div",{className:"buy-ticket-pick-whiteball-container mb-1",children:Object(q.a)(Array(7)).map((function(e,t){return Object(z.jsx)("input",{min:1,max:25,type:"number",className:"buy-ticket-pick-input",onChange:function(e){return Rt(e,t)}},t)}))}),Object(z.jsx)("div",{className:"align-self-center mb-1",children:Object(z.jsx)("input",{min:1,max:20,type:"number",className:"buy-ticket-pick-input",onChange:function(e){return Rt(e,7)}})}),Object(z.jsx)("div",{className:"align-self-center mb-1",children:Object(z.jsx)(ne.a,{className:"ticket-plus-icon",onClick:function(e){return zt(e)}})})]})]}),1==et&&G&&Object(z.jsx)("div",{className:"text-end err-msg",children:ie}),Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font mt-3 mb-2",children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{children:"Ticket Price"})}),Object(z.jsx)("div",{children:Object(z.jsxs)("b",{children:[Number((((null===Ce||void 0===Ce?void 0:Ce.priceTicketInGame)||0)/O.b).toLocaleString())," ","SOL"]})})]}),Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font mt-3 mb-2",children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{children:"Total Cost"})}),Object(z.jsx)("div",{children:Object(z.jsxs)("b",{children:[1*Number(m.toFixed(5))," SOL"]})})]}),Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font",children:[Object(z.jsxs)("div",{children:[Object(z.jsxs)("b",{children:[(100*E).toFixed(2),"%"]})," Bulk Purchase Discount."]}),Object(z.jsx)("div",{children:Object(z.jsxs)("b",{children:[1*Number(M.toFixed(5))," SOL"]})})]}),Object(z.jsx)("hr",{}),Object(z.jsxs)("div",{className:"justify-content-between d-flex buy-ticket-font",children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{children:"You Pay"})}),Object(z.jsxs)("div",{className:"font-weight-bold",children:["~",1*Number(C.toFixed(5))," SOL"]})]})]}),Object(z.jsxs)("div",{className:"buy-box-footer",children:[Object(z.jsx)("div",{className:"w-100 row",children:Object(z.jsx)("button",{className:"buy-ticket-btn",onClick:Et,children:"Buy Tickets"})}),Object(z.jsx)("div",{className:"buy-ticket-description mb-3",children:"Random Ticket purchases are unique with no duplicates. Prices are set before each round starts. Purchases are final. Thanks for playing."}),Object(z.jsx)("div",{children:null!==Ee&&void 0!==Ee&&Ee.boughtTickets&&(null===(n=Ee.boughtTickets)||void 0===n?void 0:n.length)>0?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h4",{className:"margin-none",children:"You have ".concat(null===Ee||void 0===Ee||null===(s=Ee.boughtTickets)||void 0===s?void 0:s.length," tickets now")}),Object(z.jsx)("span",{onClick:function(){return Mt(!0)},className:"ticket-link",children:"My Tickets"})]}):Object(z.jsx)("h4",{className:"margin-none",children:"You have no tickets yet"})})]})]})})]}),Object(z.jsx)(pe,{}),Object(z.jsxs)("div",{className:"modal",style:{display:de?"flex":"none"},children:[Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("div",{className:"wrapper d-flex",children:[Object(z.jsx)("button",{className:"closeB",disabled:Ne,onClick:function(){return je(!1)},children:Object(z.jsx)("svg",{width:"14",height:"14",children:Object(z.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(z.jsx)("h1",{className:"title",children:"Confirm to buy tickets"}),Object(z.jsxs)("button",{className:"actionB modalB",disabled:Ne,onClick:function(){return At()},children:[Ne?"Buying...":"Buy"," ",Ne?Object(z.jsx)(I.a,{size:13,color:"#27244f"}):null]})]})}),Object(z.jsx)("div",{className:"overlay"})]}),Oe&&Object(z.jsxs)("div",{className:"modal",style:{display:Oe?"flex":"none"},children:[Object(z.jsx)("div",{className:"container my-ticket-modal-container",children:Object(z.jsxs)("div",{className:"wrapper d-flex my-ticket-modal-wrap",children:[Object(z.jsx)("button",{className:"closeB",onClick:function(){return me(!1)},children:Object(z.jsx)("svg",{width:"14",height:"14",children:Object(z.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(z.jsx)("h1",{className:"title",children:"My tickets bought"}),Object(z.jsx)("div",{className:"ticket-numbers-wrap",children:(null===Ee||void 0===Ee?void 0:Ee.boughtTickets)&&Ee.boughtTickets.length>0&&Object(z.jsx)(V.a,{data:null===Ee||void 0===Ee?void 0:Ee.boughtTickets,ref:yt,itemContent:function(e,t){return Object(z.jsx)(ce.a,{maxWidth:["240px",null,null,"100%"],justifyContent:["center",null,null,"flex-start"],children:Object(z.jsx)(he,{rotateText:!1,numAsArray:t,mr:[null,null,null,"32px"],size:"90%",fontSize:ft?"24px":vt?"16px":"12px"})},e)}})})]})}),Object(z.jsx)("div",{className:"overlay"})]})]})},Ne=(n(388),function(e){var t=e.position,n=e.currentUsersInfo,a=e.isCompleted,s=e.winningFace,i=e.isMobile,r="left"==t?we.Head:we.Tail,l=(n||[]).filter((function(e){return e.bettingFace==r}));return Object(c.useEffect)((function(){console.log("init sidebar in coinflip")}),[]),Object(z.jsxs)("div",{className:"coinflip-sidebar ".concat(t," ").concat(r==s&&"win-board"),children:[Object(z.jsxs)("div",{className:"total-status-bar",children:[Object(z.jsx)("div",{className:"player-avatar-container",children:Object(z.jsx)(T.a,{src:"./img/user-group-".concat(t,".svg")})}),Object(z.jsx)("div",{className:"player-name player-list-font side-bar-".concat(t,"-font"),children:l.length}),Object(z.jsx)("div",{className:"player-betting-amount player-list-font side-bar-".concat(t,"-font"),children:l.reduce((function(e,t){return e+t.bettingAmount}),0)/O.b}),Object(z.jsx)("div",{className:"sol-logo-container",children:Object(z.jsx)(T.a,{src:"./img/sol-logo-".concat(t,".svg")})})]}),Object(z.jsx)("div",{className:"coinflip-player-group",children:l&&l.map((function(e,t){return Object(z.jsxs)("div",{className:"coinflip-player-list",children:[Object(z.jsx)("div",{className:"player-avatar-container",children:Object(z.jsx)(T.a,{src:"./img/user-avatar.svg"})}),Object(z.jsx)("div",{className:"player-name player-list-font ".concat(a&&e.bettingFace==s&&"green-color"),children:i?e.player.username?e.player.username.length>4?String(e.player.username).substring(0,4)+"...":e.player.username:String(e.player.publicKey).substring(0,2)+"..."+String(e.player.publicKey).substring(42):e.player.username?e.player.username.length>12?String(e.player.username).substring(0,12)+"...":e.player.username:String(e.player.publicKey).substring(0,4)+"..."+String(e.player.publicKey).substring(40)}),Object(z.jsx)("div",{className:"player-betting-amount player-list-font",children:(e.bettingAmount||0)/O.b})]},t)}))})]})}),ye=n(111);n(216);var we,Se,Ce=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(""),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),r=Object(f.a)(i,2),l=r[0],o=r[1],d=Object(w.b)(),j=Object(w.c)((function(e){return e.user})),b=Object(w.c)((function(e){return e.sockets})),u=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=2;break}return e.abrupt("return",h.b.error("Message can not be empty"));case 2:return e.prev=2,e.next=5,y.a.post("/api/message",{content:a});case 5:d({type:"UPDATE_USER_LAST_MESSAGE_AT"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),h.b.error(e.t0.response.data.message.toString());case 11:s("");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){e.current&&(e.current.scrollTop=e.current.scrollHeight)},m=function(e){var t=e.split(" ").map((function(e){return e.trim()}));s(t.join(" "))};return Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/message/last");case 2:t=e.sent.data,console.log({messages:t}),o(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),O()}),[]),Object(c.useEffect)((function(){O()}),[l]),Object(c.useEffect)((function(){b.message&&b.message.on("newMessage",(function(e){o((function(t){return[e].concat(Object(q.a)(t))}))}))}),[b]),Object(z.jsx)("div",{className:"Chat Chat_coinflip box_coinflip",children:Object(z.jsxs)("div",{className:"chat",children:[Object(z.jsx)("h2",{className:"chatHeader_coinflip",children:"Live Chat"}),Object(z.jsx)("div",{ref:e,className:"messages",children:Array.isArray(l)&&l.map((function(e){return Object(z.jsx)("div",{className:"message",children:Object(z.jsxs)("div",{className:"sender",children:[Object(z.jsx)("img",{className:"avatar",src:"/img/masterchip.png"}),Object(z.jsxs)(A.b,{to:"/u/".concat(e.creator.publicKey),className:"address profileLink",children:[Object(L.a)(e.creator),":"]}),Object(z.jsx)("div",{className:"content",children:Object(z.jsxs)("p",{className:"text",children:[" ",e.content]})})]})},e._id)})).reverse()}),Object(z.jsx)("div",{className:"inputMessage",children:j?Date.now()-j.lastMessageAt>3e3?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ye.a,{onChange:function(e){return m(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?u():null},value:a,placeholder:"Type Message..."}),Object(z.jsx)("button",{onClick:function(){return u()},className:"sendMsgB",children:Object(z.jsx)(T.a,{src:"/img/send.svg"})})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ye.a,{onChange:function(e){return m(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&Date.now()-j.lastMessageAt>3e3?u():null},value:a,placeholder:"Type Message..."}),Object(z.jsx)(_.a,{date:j.lastMessageAt+3e3,intervalDelay:0,precision:1,renderer:function(e){return e.seconds+e.milliseconds>0?Object(z.jsxs)("button",{className:"sendMsgB",children:[e.seconds,".",e.milliseconds/100]}):Object(z.jsx)("button",{onClick:function(){return u()},className:"sendMsgB",children:Object(z.jsx)(T.a,{src:"/img/send.svg"})})}})]}):Object(z.jsx)("h4",{children:"You have to Log In"})})]})})},ke=[.05,.1,.25,.5,1,2];!function(e){e[e.Head=0]="Head",e[e.Tail=1]="Tail",e[e.None=2]="None"}(we||(we={})),function(e){e[e.Pending=0]="Pending",e[e.Open=1]="Open",e[e.Close=2]="Close"}(Se||(Se={}));var _e=function(){var e=Object(g.b)(),t=Object(E.a)("/sound/pokerchipsound.mp3",{volume:1}),n=Object(f.a)(t,1)[0],a=Object(c.useState)(),s=Object(f.a)(a,2),i=s[0],r=s[1],l=Object(c.useState)(),o=Object(f.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(),u=Object(f.a)(b,2),m=u[0],x=u[1],N=Object(c.useState)(we.None),S=Object(f.a)(N,2),C=S[0],k=S[1],T=Object(c.useState)(0),A=Object(f.a)(T,2),L=A[0],D=A[1],M=Object(c.useState)(),I=Object(f.a)(M,2),B=I[0],F=I[1],U=Object(c.useState)(Date.now()),G=Object(f.a)(U,2),P=G[0],K=G[1],W=Object(c.useState)(!1),H=Object(f.a)(W,2),Y=H[0],Z=H[1],q=Object(c.useState)(!1),V=Object(f.a)(q,2),J=V[0],X=V[1],Q=Object(c.useState)(!1),$=Object(f.a)(Q,2),ee=$[0],te=$[1],ne=Object(c.useState)(we.None),ce=Object(f.a)(ne,2),ae=ce[0],se=ce[1],ie=Object(c.useState)({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight}),re=Object(f.a)(ie,2),le=re[0],oe=re[1],de=Object(c.useState)(window.innerWidth<=768),je=Object(f.a)(de,2),be=je[0],ue=je[1],Oe=function(){ue(window.innerWidth<=768),oe({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight})},me=Object(w.b)(),he=Object(w.c)((function(e){return e.user})),xe=Object(w.c)((function(e){return e.coinflip})),pe=Object(w.c)((function(e){return e.sockets})),ve=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he){e.next=3;break}return h.b.warn("Please connect wallet!"),e.abrupt("return",!1);case 3:if(!(0==he.balance||he.balance/O.b<1.04*t)){e.next=6;break}return h.b.warn("Insufficient balance"),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return D(t),e.next=8,ye({bettingAmount:t,bettingFace:C});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(L);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return k(t),e.next=8,ye({bettingAmount:L,bettingFace:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var t=Object(v.a)(Object(p.a)().mark((function t(n){var c,a;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n.bettingAmount,a=n.bettingFace,e&&e.publicKey){t.next=3;break}return t.abrupt("return");case 3:if(!(c<=0||a==we.None)){t.next=5;break}return t.abrupt("return");case 5:if(i&&i.status==Se.Open){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,ve(c);case 9:if(t.sent){t.next=12;break}return t.abrupt("return");case 12:return Z(!0),t.prev=13,t.next=16,y.a.post("/api/coinflip-game/betting",{roundId:i._id,bettingAmount:c,bettingFace:a});case 16:R.a.event({category:"COINFLIP",action:"BETTING",label:"DEGEN_GAME"}),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(13),Z(!1),h.b.error(t.t0.response.data.message.toString());case 23:case"end":return t.stop()}}),t,null,[[13,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){return window.addEventListener("resize",Oe),function(){window.removeEventListener("resize",Oe)}}),[le]),Object(c.useEffect)((function(){document.body.style.overflowY="hidden",R.a.pageview(window.location.pathname+window.location.search)}),[]),Object(c.useEffect)((function(){var t=function(){var t=Object(v.a)(Object(p.a)().mark((function t(){var n,c,a,s,i;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("/api/coinflip-game/recentRounds");case 2:return n=t.sent.data,t.next=5,y.a.get("/api/coinflip-game/currentRound");case 5:if(!(c=t.sent.data)||c.status!=Se.Open){t.next=14;break}return a={params:{coinflipId:c._id}},t.next=10,y.a.get("/api/coinflip-game/currentUsersInfo",a);case 10:s=t.sent.data,(i=s.find((function(t){var n;return t.player.publicKey.toString()===(null===(n=e.publicKey)||void 0===n?void 0:n.toString())})))&&(Z(!0),D((i.bettingAmount||0)/O.b),k(i.bettingFace)),me({type:"SET_CURRENT_USERS_INFO",payload:s});case 14:me({type:"SET_RECENT_ROUNDS",payload:n.reverse()}),me({type:"SET_CURRENT_ROUND",payload:c});case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(c.useEffect)((function(){pe.coinflip&&pe&&pe.user&&(pe.coinflip.on("newCoinflip",(function(e){X(!1),Z(!1),D(0),k(we.None),se(we.None),me({type:"SET_CURRENT_USERS_INFO",payload:[]}),me({type:"SET_CURRENT_ROUND",payload:e})})),pe.coinflip.on("newBetting",(function(e){return me({type:"UPDATE_CURRENT_USERS_INFO",payload:e})})),pe.coinflip.on("updateCoinflip",(function(e){me({type:"UPDATE_CURRENT_ROUND",payload:e}),e.status==Se.Pending?(X(!0),te(e.winningFace==we.Head)):se(e.winningFace)})),pe.coinflip.on("updateRecentRounds",(function(e){return me({type:"UPDATE_RECENT_ROUNDS",payload:e})})))}),[pe.coinflip]),Object(c.useEffect)((function(){var e=xe.currentRound,t=xe.recentRounds,n=xe.usersGameInfo,c=document.querySelector(".coinflip-countdown-bar");if(document.documentElement.style.setProperty("--initial","15000"),e&&e.endedAt){F(e.status),K(e.endedAt),document.documentElement.style.setProperty("--duration",(e.endedAt-Date.now()).toString()),c.classList.remove("coinflip-countdown-bar");c.offsetWidth;c.classList.add("coinflip-countdown-bar")}else F(Se.Close),K(Date.now()),document.documentElement.style.setProperty("--duration","0");r(e),j(t),x(n)}),[he,xe]),Object(z.jsxs)("div",{className:"coinflip-page",children:[!be&&Object(z.jsx)(Ne,{position:"left",currentUsersInfo:m,isCompleted:J,winningFace:ae}),Object(z.jsxs)("div",{className:"coinflip-main",children:[Object(z.jsxs)("div",{className:"coinflip-countdown-bar",children:[Object(z.jsx)("div",{className:"progress-bar"}),Object(z.jsxs)("div",{className:"coinflip-countdown-box",children:["Next Round in :",P>Date.now()?Object(z.jsx)(_.a,{date:P,intervalDelay:0,precision:1,renderer:function(e){return Object(z.jsx)("h3",{children:"".concat(e.seconds.toString().padStart(2,"0"),".").concat(e.milliseconds/100)})},onComplete:function(){return K(Date.now()),void setTimeout(n,1e3)}}):"00.0"]})]}),Object(z.jsxs)("div",{className:"coinflip-main-body-wrap",children:[Object(z.jsxs)("div",{className:"last-flips-box  mt-4 mb-4",children:[Object(z.jsx)("div",{className:"last-flips-title",children:"Last Flips"}),Object(z.jsx)("div",{className:"last-flips-container",children:null===d||void 0===d?void 0:d.map((function(e,t){return Object(z.jsx)("img",{className:"ml-2 mr-2",src:"./img/coin-".concat(void 0!=(null===e||void 0===e?void 0:e.winningFace)&&we[null===e||void 0===e?void 0:e.winningFace].toLowerCase(),"-small.svg")},t)}))})]}),!J&&Object(z.jsx)("div",{className:"flip-status",children:Object(z.jsx)("img",{src:"./img/coin-standard-large.svg"})}),J&&Object(z.jsxs)("div",{id:"coin",className:"flip-status ".concat(ee?"heads":"tails"),children:[Object(z.jsx)("div",{className:"side-a"}),Object(z.jsx)("div",{className:"side-b"})]}),Object(z.jsx)("div",{className:"betting-amount-box",children:Object(z.jsx)("div",{className:"betting-amount-container",children:ke.map((function(e,t){return Object(z.jsxs)("div",{className:"betting-amount-div ".concat(L===e&&"active"," ").concat((B!==Se.Open||Y)&&"disabled"),onClick:function(){return fe(e)},children:[e,Object(z.jsx)("img",{src:"./img/solanaicon.svg"})]},t)}))})}),Object(z.jsxs)("div",{className:"bet-box",children:[Object(z.jsxs)("div",{className:"bet-type-box bet-type-head ".concat(C===we.Head&&"active"," ").concat((B!==Se.Open||Y)&&"disabled"),onClick:function(){return ge(we.Head)},children:[Object(z.jsx)("img",{src:"./img/coin-head-small.svg"}),Object(z.jsx)("div",{className:"bet-type-title",children:"Heads"})]}),Object(z.jsxs)("div",{className:"bet-type-box bet-type-tail ".concat(C===we.Tail&&"active"," ").concat((B!==Se.Open||Y)&&"disabled"),onClick:function(){return ge(we.Tail)},children:[Object(z.jsx)("img",{src:"./img/coin-tail-small.svg"}),Object(z.jsx)("div",{className:"bet-type-title",children:"Tails"})]})]}),!be&&Object(z.jsx)("div",{className:"coinflip-chatbox",children:Object(z.jsx)(Ce,{})}),be&&Object(z.jsxs)("div",{className:"mobile-coinflip-sidebar",children:[Object(z.jsx)(Ne,{position:"left",currentUsersInfo:m,isCompleted:J,winningFace:ae,isMobile:!0}),Object(z.jsx)(Ne,{position:"right",currentUsersInfo:m,isCompleted:J,winningFace:ae,isMobile:!0})]})]})]}),!be&&Object(z.jsx)(Ne,{position:"right",currentUsersInfo:m,isCompleted:J,winningFace:ae})]})},Te=n(29),Ee=n(449),Ae=n(463),Le=(n(389),n(453)),Re=n(454),ze=n(462),De=n(243);var Me,Ie,Be,Fe=function(){var e=Le.a.useForm(),t=Object(f.a)(e,1)[0],n=J.a.Countdown,a=Object(c.useState)({}),s=Object(f.a)(a,2),i=s[0],r=s[1],l=Object(c.useState)(!1),o=Object(f.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(!1),u=Object(f.a)(b,2),O=u[0],m=u[1],x=Object(w.b)(),g=(Object(Te.h)(),Object(w.c)((function(e){return e.user}))),N=Object(w.c)((function(e){return e.sockets})),S=Object(w.c)((function(e){return e.lottery})),C=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,g.isAdmin){e.next=4;break}return h.b.warn("Permission denied. Please select admin wallet"),e.abrupt("return");case 4:return j(!1),m(!0),e.next=8,y.a.post("/api/leaderboard/initialize");case 8:h.b.success("Success to initialize leaderboard collection"),m(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),h.b.error("Failed to initialize leaderboard collection"),j(!1),m(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){var n,c,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.priceTicketInGame,c=t.discountDivisor,a=t.lotteryLength,e.prev=1,g.isAdmin){e.next=5;break}return h.b.warn("Permission denied. Please select admin wallet"),e.abrupt("return");case 5:if((null===i||void 0===i?void 0:i.status)!==Y.Open){e.next=8;break}return h.b.warn("Not time to start lottery"),e.abrupt("return");case 8:return e.next=10,y.a.post("/api/lottery-game",{priceTicketInGame:n,discountDivisor:c,lotteryLength:a});case 10:h.b.success("Success to start new lottery"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),h.b.error("Failed to start new lottery");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/lottery-game/lastRound");case 2:t=e.sent,x({type:"SET_LAST_ROUND",payload:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){N.lottery&&(N.lottery.on("newLottery",(function(e){return x({type:"SET_LAST_ROUND",payload:e})})),N.lottery.on("closedLottery",(function(e){return x({type:"CLOSED_LOTTERY",payload:e})})))}),[N.lottery]),Object(c.useEffect)((function(){r(S.lastRound)}),[g,S]),Object(z.jsx)("div",{className:"Page ActiveGames",children:null!==g&&void 0!==g&&g.isAdmin?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h1",{className:"gameTitle",children:Object(z.jsx)("span",{children:"Start Lottery"})}),Object(z.jsx)("div",{className:"prize-notification",children:(null===i||void 0===i?void 0:i.status)===Y.Open?Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(n,{value:i.endedAt,format:"DD:HH:mm:ss",className:"text-white",style:{color:"white"}})}):Object(z.jsx)("h1",{children:"Tickets on sale soon"})}),Object(z.jsx)("div",{className:"box buy-box",children:Object(z.jsxs)(Le.a,{form:t,layout:"vertical",onFinish:k,onFinishFailed:function(){},autoComplete:"off",className:"start-lottery-form",children:[Object(z.jsx)(Le.a.Item,{name:"priceTicketInGame",label:"Ticket Price",rules:[{required:!0},{type:"number",min:0}],children:Object(z.jsx)(Re.a,{className:"w-100",placeholder:"price"})}),Object(z.jsx)(Le.a.Item,{name:"discountDivisor",label:"Discount Divisor",rules:[{required:!0},{type:"number",min:500}],children:Object(z.jsx)(Re.a,{className:"w-100",placeholder:"2000"})}),Object(z.jsx)(Le.a.Item,{name:"lotteryLength",label:"Lottery Length(Day)",rules:[{type:"number",min:0}],children:Object(z.jsx)(Re.a,{className:"w-100",placeholder:"7"})}),Object(z.jsx)(Le.a.Item,{children:Object(z.jsx)(ze.b,{children:Object(z.jsx)(De.a,{type:"primary",htmlType:"submit",children:"Start Lottery"})})})]})}),Object(z.jsxs)(Ee.a,{spinning:O,children:[Object(z.jsx)("h1",{className:"gameTitle mt-5 mb-2",children:Object(z.jsx)("span",{children:"Leaderboard"})}),Object(z.jsx)(Ae.a,{placement:"topLeft",title:"Confirm to initialize",content:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("button",{className:"mr-2",onClick:C,children:"Yes"}),Object(z.jsx)("button",{onClick:function(){j(!1)},children:"No"})]}),trigger:"click",visible:d,onVisibleChange:function(e){j(e)},children:Object(z.jsx)(De.a,{type:"primary",children:"Initialize Leaderboard Collection"})})]})]}):Object(z.jsx)("h2",{children:"Access denied!"})})};n(432);!function(e){e[e.Rps=0]="Rps",e[e.Dice=1]="Dice",e[e.Solanaball=2]="Solanaball",e[e.Coinflip=3]="Coinflip"}(Me||(Me={})),function(e){e[e.Today=0]="Today",e[e.ThisWeek=1]="ThisWeek",e[e.All=2]="All"}(Ie||(Ie={})),function(e){e[e.First=0]="First",e[e.Second=1]="Second",e[e.Third=2]="Third"}(Be||(Be={}));var Ue=function(){var e,t,n,a,s,i,r,l,o,d,j,b,u,m,h,x,g,N,S,C,k,_,E,A,L,R,D,M,I,B,F,U,G,P,K,W,H,Y,Z,q,J,X,Q,$,ee,te,ne,ce,ae,se,ie,re,le,oe,de=Object(c.useState)(null),je=Object(f.a)(de,2),be=je[0],ue=je[1],Oe=Object(c.useState)(Ie.All),me=Object(f.a)(Oe,2),he=me[0],xe=me[1],pe=Object(c.useState)(),ve=Object(f.a)(pe,2),fe=ve[0],ge=ve[1],Ne=Object(c.useState)(),ye=Object(f.a)(Ne,2),we=ye[0],Se=ye[1],Ce=Object(c.useState)(-1),ke=Object(f.a)(Ce,2),_e=ke[0],Ae=ke[1],Le=Object(c.useState)(!1),Re=Object(f.a)(Le,2),ze=Re[0],De=Re[1],Fe=Object(c.useState)({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight}),Ue=Object(f.a)(Fe,2),Ge=Ue[0],Pe=Ue[1],Ke=Object(c.useState)(window.innerWidth<=768),We=Object(f.a)(Ke,2),He=We[0],Ye=We[1],Ze=function(){Ye(window.innerWidth<=768),Pe({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight})},qe=Object(Te.h)(),Ve=Object(c.useRef)(null),Je=Object(w.c)((function(e){return e.user})),Xe=function(e){qe("/u/".concat(e))},Qe=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t,n,c,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,De(!0),t={},t={params:{timeFilterType:he}},null!==be&&(t={params:{timeFilterType:he,gameType:be}}),e.next=7,y.a.get("/api/leaderboard",t);case 7:n=e.sent,a=-1,n.data&&n.data.length&&(c=n.data.find((function(e){var t;return(null===(t=e._id)||void 0===t?void 0:t.publicKey)==Je.publicKey})),a=n.data.findIndex((function(e){var t;return(null===(t=e._id)||void 0===t?void 0:t.publicKey)==Je.publicKey}))),ge(n.data),Se(c),Ae(a),De(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),De(!1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),$e=function(e){var t=null==be?-1:be;(t+=e)<=-2&&(t=3),t>=4&&(t=-1),-1===t&&ue(null),t>=0&&t<=3&&ue(t)};return Object(c.useEffect)((function(){return window.addEventListener("resize",Ze),function(){window.removeEventListener("resize",Ze)}}),[Ge]),Object(c.useEffect)((function(){Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:case"end":return e.stop()}}),e)})))()}),[he,be,Je]),Object(z.jsxs)("div",{className:"leaderboard ".concat(He&&"mobile-leaderboard"),children:[Object(z.jsx)("h1",{className:"leaderboard-title",children:Object(z.jsx)("span",{children:"Leaderboard"})}),Object(z.jsx)("div",{className:"leaderboard-date-filter",children:Object(z.jsxs)("div",{className:"row leaderboard-date-filter-container",children:[Object(z.jsx)("div",{className:"col-md-4 filter-item",children:Object(z.jsxs)("span",{onClick:function(){return xe(Ie.Today)},className:"filter-item-text",children:[Object(z.jsx)("div",{className:"filter-item-text-blur ".concat(he==Ie.Today&&"active")}),"Today"]})}),Object(z.jsx)("div",{className:"col-md-4 filter-item",children:Object(z.jsxs)("span",{onClick:function(){return xe(Ie.ThisWeek)},className:"filter-item-text",children:[Object(z.jsx)("div",{className:"filter-item-text-blur ".concat(he==Ie.ThisWeek&&"active")}),"This Week"]})}),Object(z.jsx)("div",{className:"col-md-4 filter-item",children:Object(z.jsxs)("span",{onClick:function(){return xe(Ie.All)},className:"filter-item-text",children:[Object(z.jsx)("div",{className:"filter-item-text-blur ".concat(he==Ie.All&&"active")}),"All Time"]})})]})}),Object(z.jsx)("div",{className:"leaderboard-game-filter",children:Object(z.jsx)("div",{className:"leaderboard-boxes row",children:He?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"leaderboard-box rps-box col-md-6",children:[Object(z.jsxs)("h2",{children:[Object(z.jsx)(T.a,{src:"./img/leaderboard-rps.svg"}),Object(z.jsx)("span",{children:"1"})]}),Object(z.jsx)("div",{className:"space_holder rps-border-color"}),Object(z.jsx)("h3",{className:"font-size-2",children:fe&&fe.length>0?null!==(e=fe[0]._id)&&void 0!==e&&e.username?(null===(t=fe[0]._id)||void 0===t?void 0:t.username.length)>8?String(null===(n=fe[0])||void 0===n||null===(a=n._id)||void 0===a?void 0:a.username).substring(0,8)+"...":null===(s=fe[0]._id)||void 0===s?void 0:s.username:String(null===(i=fe[0])||void 0===i||null===(r=i._id)||void 0===r?void 0:r.publicKey).substring(0,4)+"..."+String(null===(l=fe[0])||void 0===l||null===(o=l._id)||void 0===o?void 0:o.publicKey).substring(40):"-"})]}),Object(z.jsxs)("div",{className:"leaderboard-box dice-box col-md-3",children:[Object(z.jsxs)("h2",{children:[Object(z.jsx)(T.a,{src:"./img/leaderboard-dice.svg"}),Object(z.jsx)("span",{children:"2"})]}),Object(z.jsx)("div",{className:"space_holder dice-border-color"}),Object(z.jsx)("h3",{className:"font-size-1",children:fe&&fe.length>1?null!==(d=fe[1]._id)&&void 0!==d&&d.username?(null===(j=fe[1]._id)||void 0===j?void 0:j.username.length)>12?String(null===(b=fe[1])||void 0===b||null===(u=b._id)||void 0===u?void 0:u.username).substring(0,12)+"...":null===(m=fe[1]._id)||void 0===m?void 0:m.username:String(null===(h=fe[1])||void 0===h||null===(x=h._id)||void 0===x?void 0:x.publicKey).substring(0,4)+"..."+String(null===(g=fe[1])||void 0===g||null===(N=g._id)||void 0===N?void 0:N.publicKey).substring(40):"-"})]}),Object(z.jsxs)("div",{className:"leaderboard-box lottery-box col-md-3",children:[Object(z.jsxs)("h2",{children:[Object(z.jsx)(T.a,{src:"./img/leaderboard-lottery.svg"}),Object(z.jsx)("span",{children:"3"})]}),Object(z.jsx)("div",{className:"space_holder lottery-border-color"}),Object(z.jsx)("h3",{className:"font-size-1",children:fe&&fe.length>2?null!==(S=fe[2]._id)&&void 0!==S&&S.username?(null===(C=fe[2]._id)||void 0===C?void 0:C.username.length)>12?String(null===(k=fe[2])||void 0===k||null===(_=k._id)||void 0===_?void 0:_.username).substring(0,12)+"...":null===(E=fe[2]._id)||void 0===E?void 0:E.username:String(null===(A=fe[2])||void 0===A||null===(L=A._id)||void 0===L?void 0:L.publicKey).substring(0,4)+"..."+String(null===(R=fe[2])||void 0===R||null===(D=R._id)||void 0===D?void 0:D.publicKey).substring(40):"-"})]})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"leaderboard-box dice-box col-md-3",children:[Object(z.jsxs)("h2",{children:[Object(z.jsx)(T.a,{src:"./img/leaderboard-dice.svg"}),Object(z.jsx)("span",{children:"2"})]}),Object(z.jsx)("div",{className:"space_holder dice-border-color"}),Object(z.jsx)("h3",{className:"font-size-1",children:fe&&fe.length>1?null!==(M=fe[1]._id)&&void 0!==M&&M.username?(null===(I=fe[1]._id)||void 0===I?void 0:I.username.length)>12?String(null===(B=fe[1])||void 0===B||null===(F=B._id)||void 0===F?void 0:F.username).substring(0,12)+"...":null===(U=fe[1]._id)||void 0===U?void 0:U.username:String(null===(G=fe[1])||void 0===G||null===(P=G._id)||void 0===P?void 0:P.publicKey).substring(0,4)+"..."+String(null===(K=fe[1])||void 0===K||null===(W=K._id)||void 0===W?void 0:W.publicKey).substring(40):"-"})]}),Object(z.jsxs)("div",{className:"leaderboard-box rps-box col-md-6",children:[Object(z.jsxs)("h2",{children:[Object(z.jsx)(T.a,{src:"./img/leaderboard-rps.svg"}),Object(z.jsx)("span",{children:"1"})]}),Object(z.jsx)("div",{className:"space_holder rps-border-color"}),Object(z.jsx)("h3",{className:"font-size-2",children:fe&&fe.length>0?null!==(H=fe[0]._id)&&void 0!==H&&H.username?(null===(Y=fe[0]._id)||void 0===Y?void 0:Y.username.length)>8?String(null===(Z=fe[0])||void 0===Z||null===(q=Z._id)||void 0===q?void 0:q.username).substring(0,8)+"...":null===(J=fe[0]._id)||void 0===J?void 0:J.username:String(null===(X=fe[0])||void 0===X||null===(Q=X._id)||void 0===Q?void 0:Q.publicKey).substring(0,4)+"..."+String(null===($=fe[0])||void 0===$||null===(ee=$._id)||void 0===ee?void 0:ee.publicKey).substring(40):"-"})]}),Object(z.jsxs)("div",{className:"leaderboard-box lottery-box col-md-3",children:[Object(z.jsxs)("h2",{children:[Object(z.jsx)(T.a,{src:"./img/leaderboard-lottery.svg"}),Object(z.jsx)("span",{children:"3"})]}),Object(z.jsx)("div",{className:"space_holder lottery-border-color"}),Object(z.jsx)("h3",{className:"font-size-1",children:fe&&fe.length>2?null!==(te=fe[2]._id)&&void 0!==te&&te.username?(null===(ne=fe[2]._id)||void 0===ne?void 0:ne.username.length)>12?String(null===(ce=fe[2])||void 0===ce||null===(ae=ce._id)||void 0===ae?void 0:ae.username).substring(0,12)+"...":null===(se=fe[2]._id)||void 0===se?void 0:se.username:String(null===(ie=fe[2])||void 0===ie||null===(re=ie._id)||void 0===re?void 0:re.publicKey).substring(0,4)+"..."+String(null===(le=fe[2])||void 0===le||null===(oe=le._id)||void 0===oe?void 0:oe.publicKey).substring(40):"-"})]})]})})}),Object(z.jsx)("div",{className:"leaderboard-table-wrapper",children:Object(z.jsxs)("div",{className:"leaderboard-table",children:[Object(z.jsxs)("div",{className:"leaderboard-table-header leaderboard-table-main",children:[Object(z.jsx)("div",{className:"rank-width",children:Object(z.jsx)("span",{children:"Rank"})}),Object(z.jsx)("div",{className:"name-width",children:Object(z.jsx)("span",{children:"Name"})}),Object(z.jsxs)("div",{className:"games-width d-flex justify-content-center",children:[Object(z.jsx)(T.a,{className:"align-self-center cursor-pointer",src:"/img/arrow-left.svg",onClick:function(){return $e(-1)}}),Object(z.jsx)("span",{className:"mrl-05",children:"Games"}),Object(z.jsx)(T.a,{className:"align-self-center cursor-pointer",src:"/img/arrow-right.svg",onClick:function(){return $e(1)}})]}),Object(z.jsx)("div",{className:"total-games-width",children:Object(z.jsx)("span",{children:"Total Games"})}),be!==Me.Solanaball&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"win-loss-width",children:Object(z.jsx)("span",{children:"Win/Loss/draw"})}),Object(z.jsx)("div",{className:"win-rate-width",children:Object(z.jsx)("span",{children:"Win %"})})]}),Object(z.jsx)("div",{className:"volume-width",children:Object(z.jsx)("span",{children:"Volume"})}),be!==Me.Solanaball&&Object(z.jsx)("div",{className:"profit-width",children:Object(z.jsx)("span",{children:"Profit"})}),be===Me.Solanaball&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"max-profit-width",children:Object(z.jsx)("span",{children:"Max Reward"})}),Object(z.jsx)("div",{className:"total-winning-width",children:Object(z.jsx)("span",{children:"Total Winnings"})})]})]}),Object(z.jsx)("div",{className:"leaderboard-table-body",children:Object(z.jsxs)(Ee.a,{spinning:ze,children:[_e>=0&&Object(z.jsxs)("div",{className:"leaderboard-table-row leaderboard-table-main mb-5",children:[Object(z.jsx)("div",{className:"rank-width",children:Object(z.jsx)("span",{children:_e+1})}),Object(z.jsx)("div",{className:"name-width cursor-pointer",children:Object(z.jsx)("span",{onClick:function(){var e;return Xe(null===we||void 0===we||null===(e=we._id)||void 0===e?void 0:e.publicKey)},children:"You"})}),Object(z.jsx)("div",{className:"games-width",children:Object(z.jsx)("span",{children:null!==be?Me[be]:"All"})}),Object(z.jsx)("div",{className:"total-games-width",children:Object(z.jsx)("span",{children:null===we||void 0===we?void 0:we.count})}),be!==Me.Solanaball&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"win-loss-width",children:Object(z.jsx)("span",{children:"".concat(null===we||void 0===we?void 0:we.winCount,"/").concat(null===we||void 0===we?void 0:we.loseCount,"/").concat(((null===we||void 0===we?void 0:we.count)||0)-((null===we||void 0===we?void 0:we.winCount)||0)-((null===we||void 0===we?void 0:we.loseCount)||0))})}),Object(z.jsx)("div",{className:"win-rate-width",children:Object(z.jsxs)("span",{children:[(((null===we||void 0===we?void 0:we.winCount)||0)/((null===we||void 0===we?void 0:we.count)||1)*100).toFixed(2),"%"]})})]}),Object(z.jsx)("div",{className:"volume-width",children:Object(z.jsx)("span",{children:(((null===we||void 0===we?void 0:we.volume)||0)/O.b).toLocaleString()})}),be!==Me.Solanaball&&Object(z.jsx)("div",{className:"profit-width",children:Object(z.jsx)("span",{children:(((null===we||void 0===we?void 0:we.userProfit)||0)/O.b).toLocaleString()})}),be===Me.Solanaball&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"max-profit-width",children:Object(z.jsx)("span",{children:(((null===we||void 0===we?void 0:we.maxReward)||0)/O.b).toLocaleString()})}),Object(z.jsx)("div",{className:"total-winning-width",children:Object(z.jsx)("span",{children:null===we||void 0===we?void 0:we.winCount})})]})]}),fe&&fe.length>0?Object(z.jsx)(V.a,{data:fe,ref:Ve,style:{minHeight:"500px",maxHeight:"500px"},itemContent:function(e,t){var n,c,a,s;return Object(z.jsxs)("div",{className:"leaderboard-table-row leaderboard-table-main ".concat(e<=2&&Be[e].toLowerCase(),"-place-table-border-color"),children:[Object(z.jsx)("div",{className:"rank-width",children:Object(z.jsx)("span",{children:e+1})}),Object(z.jsx)("div",{className:"name-width cursor-pointer",children:Object(z.jsx)("span",{onClick:function(){var e;return Xe(null===t||void 0===t||null===(e=t._id)||void 0===e?void 0:e.publicKey)},children:null!==t&&void 0!==t&&null!==(n=t._id)&&void 0!==n&&n.username?null===t||void 0===t||null===(c=t._id)||void 0===c?void 0:c.username:String(null===t||void 0===t||null===(a=t._id)||void 0===a?void 0:a.publicKey).substring(0,4)+"..."+String(null===t||void 0===t||null===(s=t._id)||void 0===s?void 0:s.publicKey).substring(40)})}),Object(z.jsx)("div",{className:"games-width",children:Object(z.jsx)("span",{children:null!==be?Me[be]:"All"})}),Object(z.jsx)("div",{className:"total-games-width",children:Object(z.jsx)("span",{children:null===t||void 0===t?void 0:t.count})}),be!==Me.Solanaball&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"win-loss-width",children:Object(z.jsx)("span",{children:"".concat(null===t||void 0===t?void 0:t.winCount,"/").concat(null===t||void 0===t?void 0:t.loseCount,"/").concat(((null===t||void 0===t?void 0:t.count)||0)-((null===t||void 0===t?void 0:t.winCount)||0)-((null===t||void 0===t?void 0:t.loseCount)||0))})}),Object(z.jsx)("div",{className:"win-rate-width",children:Object(z.jsxs)("span",{children:[(((null===t||void 0===t?void 0:t.winCount)||0)/((null===t||void 0===t?void 0:t.count)||1)*100).toFixed(2),"%"]})})]}),Object(z.jsx)("div",{className:"volume-width",children:Object(z.jsx)("span",{children:(((null===t||void 0===t?void 0:t.volume)||0)/O.b).toLocaleString()})}),be!==Me.Solanaball&&Object(z.jsx)("div",{className:"profit-width",children:Object(z.jsx)("span",{children:(((null===t||void 0===t?void 0:t.userProfit)||0)/O.b).toLocaleString()})}),be===Me.Solanaball&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"max-profit-width",children:Object(z.jsx)("span",{children:(((null===t||void 0===t?void 0:t.maxReward)||0)/O.b).toLocaleString()})}),Object(z.jsx)("div",{className:"total-winning-width",children:Object(z.jsx)("span",{children:null===t||void 0===t?void 0:t.winCount})})]})]},e)}}):Object(z.jsx)("div",{className:"user-rank-no-data",children:"No Data"})]})})]})})]})},Ge=(n(221),n(433),n(66)),Pe=n.n(Ge);var Ke=function(e){(t=e.games).sort((function(e,t){return e.updatedAt<t.updatedAt?1:-1}));var t=t.slice(0,100);return console.log("33333",t),Object(z.jsxs)("div",{children:[Object(z.jsxs)("table",{className:"UserGames",children:[Object(z.jsx)("thead",{children:Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{children:"Date"}),Object(z.jsx)("th",{children:"Bet"}),Object(z.jsx)("th",{children:"Move"}),Object(z.jsx)("th",{children:"Opponent"}),Object(z.jsx)("th",{children:"Opponent Move"}),Object(z.jsx)("th",{children:"Win Amount"})]})}),Object(z.jsx)("tbody",{children:t.map((function(t,n){var c,a,s=0;if("coinflip"!==t.gameType){if("ended"!==t.status||!t.opponent)return;var i=t.creator._id===e.user._id?t.creatorMove:t.opponentMove;a=t.creator._id===e.user._id?t.opponent:t.creator;var r,l,o=t.creator._id===e.user._id?t.opponentMove:t.creatorMove;s=t.winner?t.winner._id===e.user._id?t.amount/O.b:-t.amount/O.b:0,"rps"===t.gameType&&(r="move"+i+".png",l="move"+o+".png"),"dice"===t.gameType&&(r="dice"+i+".svg",l="dice"+o+".svg")}else{var d,j,b;(null===(d=e.user.publicKey)||void 0===d?void 0:d.toString())===(null===(j=t.player)||void 0===j?void 0:j.publicKey.toString())?(a=t.opponent,s=t.bettingAmount?t.isWin?t.bettingAmount/O.b:-t.bettingAmount/O.b:0,b=t.isWin?t.bettingFace==we.Head?we.Head:we.Tail:t.bettingFace==we.Head?we.Tail:we.Head,r="coin-"+we[t.bettingFace||0].toLowerCase()+"-small.svg",l="coin-"+we[b].toLowerCase()+"-small.svg"):(a=t.player,s=t.bettingAmount?t.isWin?-t.bettingAmount/O.b:t.bettingAmount/O.b:0,b=t.isWin?t.bettingFace==we.Head?we.Head:we.Tail:t.bettingFace==we.Head?we.Tail:we.Head,l="coin-"+we[t.bettingFace||0].toLowerCase()+"-small.svg",r="coin-"+we[b].toLowerCase()+"-small.svg"),t.amount=t.bettingAmount||0}return Object(z.jsxs)("tr",{className:"game",children:[Object(z.jsx)("td",{className:"date",children:Pe()(t.updatedAt).format("MMM DD, h:mm A")}),Object(z.jsxs)("td",{children:[t.amount/O.b," SOL"]}),Object(z.jsx)("td",{className:"move ".concat("coinflip"!==t.gameType&&"flip"),children:Object(z.jsx)("img",{src:"/img/".concat(r)})}),Object(z.jsx)("td",{children:Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(null===(c=a)||void 0===c?void 0:c.publicKey),children:a&&Object(L.a)(a)})}),Object(z.jsx)("td",{className:"move",children:Object(z.jsx)("img",{src:"/img/".concat(l)})}),Object(z.jsx)("td",{children:Object(z.jsxs)("span",{className:0===s?"":s>0?"win":"lose",children:[s," SOL"]})})]},n)}))})]}),Object(z.jsx)("p",{children:"Showing most recent 100 games only."})]})};var We=function(){var e=Object(Te.i)().publicKey,t=Object(c.useState)(),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),r=Object(f.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(f.a)(d,2),b=j[0],u=j[1],O=Object(c.useState)(0),m=Object(f.a)(O,2),h=m[0],x=m[1],g=Object(c.useState)(0),N=Object(f.a)(g,2),w=N[0],S=N[1],C=Object(c.useState)(0),k=Object(f.a)(C,2),_=k[0],T=k[1],E=Object(c.useState)({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight}),A=Object(f.a)(E,2),R=A[0],D=A[1],M=Object(c.useState)(window.innerWidth<=768),I=Object(f.a)(M,2),B=I[0],F=I[1],U=function(){F(window.innerWidth<=768),D({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight})},G=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){var n,c,a,i,r,l,d,j,b,O,m,h,x,v,g;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y.a.get("/api/u/".concat(t)),y.a.get("/api/game/u/".concat(t)),y.a.get("/api/game-dice/u/".concat(t)),y.a.get("/api/coinflip-game/u/".concat(t))]);case 2:for(n=e.sent,c=Object(f.a)(n,4),a=c[0],i=c[1],r=c[2],l=c[3],d=[a.data,i.data,r.data,l.data],j=d[0],b=d[1],O=d[2],m=d[3],console.log("======",m),j||u(!0),h=0;h<b.length;h++)b[h].gameType="rps";for(x=0;x<O.length;x++)O[x].gameType="dice";for(v=0;v<m.length;v++)m[v].gameType="coinflip";g=b.concat(O).concat(m),console.log("22222",g),s(j),o(g);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return window.addEventListener("resize",U),function(){window.removeEventListener("resize",U)}}),[R]),Object(c.useEffect)((function(){s(void 0),e&&G(e)}),[e]),Object(c.useEffect)((function(){if(l&&a){var e=0,t=0,n=0;l.forEach((function(c){"coinflip"==c.gameType?c.isWin?e++:t++:c.winner?c.winner._id===a._id?e++:t++:n++})),x(e),S(n),T(t)}}),[a,l]),Object(z.jsx)("div",{className:"Page Profile",children:a?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"box profileBox ".concat(B&&"mobile-profile-box"),children:[Object(z.jsx)("img",{className:"avatar",src:"/img/masterchip.png"}),Object(z.jsxs)("div",{className:"rightInfo",children:[Object(z.jsx)("div",{className:"address",children:Object(z.jsx)("h2",{className:"publicKey",children:Object(L.a)(a)})}),Object(z.jsxs)("div",{className:"gameStats",children:[Object(z.jsxs)("div",{className:"gameStat gameStat-win",children:[Object(z.jsx)("h2",{className:"counter",children:h}),Object(z.jsx)("h2",{className:"tag",children:"Win"})]}),Object(z.jsx)("div",{className:"statSeparator",children:"/"}),Object(z.jsxs)("div",{className:"gameStat gameStat-loss",children:[Object(z.jsx)("h2",{className:"counter",children:_}),Object(z.jsx)("h2",{className:"tag",children:"Loss"})]}),Object(z.jsx)("div",{className:"statSeparator",children:"/"}),Object(z.jsxs)("div",{className:"gameStat gameStat-draw",children:[Object(z.jsx)("h2",{className:"counter",children:w}),Object(z.jsx)("h2",{className:"tag",children:"Draw"})]}),Object(z.jsxs)("div",{className:"gameStat gameStat-total",children:[Object(z.jsx)("h2",{className:"counter",children:l.length}),Object(z.jsx)("h2",{className:"tag",children:"Total"})]})]})]})]}),Object(z.jsx)(Ke,{user:a,games:l})]}):b?Object(z.jsx)("h1",{children:"User was not found"}):Object(z.jsx)("h1",{children:"Loading user..."})})};var He=function(){var e=Object(Te.g)().pathname;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e]),null};var Ye=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(""),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),r=Object(f.a)(i,2),l=r[0],o=r[1],d=Object(w.b)(),j=Object(w.c)((function(e){return e.user})),b=Object(w.c)((function(e){return e.sockets})),u=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=2;break}return e.abrupt("return",h.b.error("Message can not be empty"));case 2:return e.prev=2,e.next=5,y.a.post("/api/message",{content:a});case 5:d({type:"UPDATE_USER_LAST_MESSAGE_AT"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),h.b.error(e.t0.response.data.message.toString());case 11:s("");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){e.current&&(e.current.scrollTop=e.current.scrollHeight)},m=function(e){var t=e.split(" ").map((function(e){return e.trim()}));s(t.join(" "))};return Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/message/last");case 2:t=e.sent.data,console.log({messages:t}),o(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),O()}),[]),Object(c.useEffect)((function(){O()}),[l]),Object(c.useEffect)((function(){b.message&&b.message.on("newMessage",(function(e){o((function(t){return[e].concat(Object(q.a)(t))}))}))}),[b]),Object(z.jsx)("div",{className:"Chat box",children:Object(z.jsxs)("div",{className:"chat",children:[Object(z.jsx)("h2",{className:"chatHeader",children:"Live Chat"}),Object(z.jsx)("div",{ref:e,className:"messages",children:Array.isArray(l)&&l.map((function(e){return Object(z.jsxs)("div",{className:"message",children:[Object(z.jsxs)("div",{className:"sender",children:[Object(z.jsx)("img",{className:"avatar",src:"/img/masterchip.png"}),Object(z.jsx)(A.b,{to:"/u/".concat(e.creator.publicKey),className:"address profileLink",children:Object(L.a)(e.creator)})]}),Object(z.jsx)("div",{className:"content",children:Object(z.jsx)("p",{className:"text",children:e.content})})]},e._id)})).reverse()}),Object(z.jsx)("div",{className:"inputMessage",children:j?Date.now()-j.lastMessageAt>3e3?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ye.a,{onChange:function(e){return m(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?u():null},value:a,placeholder:"Type Message..."}),Object(z.jsx)("button",{onClick:function(){return u()},className:"sendMsgB",children:Object(z.jsx)(T.a,{src:"/img/send.svg"})})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ye.a,{onChange:function(e){return m(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&Date.now()-j.lastMessageAt>3e3?u():null},value:a,placeholder:"Type Message..."}),Object(z.jsx)(_.a,{date:j.lastMessageAt+3e3,intervalDelay:0,precision:1,renderer:function(e){return e.seconds+e.milliseconds>0?Object(z.jsxs)("button",{className:"sendMsgB",children:[e.seconds,".",e.milliseconds/100]}):Object(z.jsx)("button",{onClick:function(){return u()},className:"sendMsgB",children:Object(z.jsx)(T.a,{src:"/img/send.svg"})})}})]}):Object(z.jsx)("h4",{children:"You have to Log In"})})]})})},Ze=(n(434),n(143));var qe=function(){return window.location.pathname,Object(z.jsxs)("div",{className:"LeftSide",children:[Object(z.jsx)(Ye,{}),Object(z.jsx)(Ze.a,{})]})},Ve=(n(435),n(222),["removed","revealed"]);var Je=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(w.c)((function(e){return e.games})),i=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/game/recentGames");case 2:t=e.sent.data,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),Object(z.jsxs)("div",{className:"recentGamesWrapper box",children:[Object(z.jsx)("h2",{className:"recentGamesHeader",children:"Recent Plays"}),Object(z.jsxs)("div",{className:"recentGames",children:[s.map((function(e){if(Ve.includes(e.status)&&e.opponent&&"rps"==e.gameType)return r(e)})).reverse(),n.map((function(e){return r(e)}))]})]});function r(e){if(e.opponent){if(e.winner){var t=e.creator._id===e.winner._id?e.opponent:e.creator;return Object(z.jsxs)("div",{className:"recentGame",children:[Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(e.winner.publicKey),children:Object(L.a)(e.winner)})," ",Object(z.jsxs)("span",{className:"block",children:[Object(z.jsx)("span",{className:"win",children:"won"})," ",e.amount/O.b," ","SOL vs"," "]}),Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(t.publicKey),children:Object(L.a)(t)})]},e._id)}return Object(z.jsxs)("div",{className:"recentGame",children:[Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(e.creator.publicKey),children:Object(L.a)(e.creator)})," ",Object(z.jsxs)("span",{className:"block",children:[Object(z.jsx)("span",{className:"draw",children:"draw"})," vs"," "]}),Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(e.opponent.publicKey),children:Object(L.a)(e.opponent)})]},e._id)}}},Xe=["removed","revealed"];var Qe=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(w.c)((function(e){return e.games})),i=function(){var e=Object(v.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/game-dice/recentGames");case 2:t=e.sent.data,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),Object(z.jsxs)("div",{className:"recentGamesWrapper box",children:[Object(z.jsx)("h2",{className:"recentGamesHeader",children:"Recent Plays"}),Object(z.jsxs)("div",{className:"recentGames",children:[s.map((function(e){if(Xe.includes(e.status)&&e.opponent&&"dice"==e.gameType)return r(e)})).reverse(),n.map((function(e){return r(e)}))]})]});function r(e){if(e.opponent){if(e.winner){var t=e.creator._id===e.winner._id?e.opponent:e.creator;return Object(z.jsxs)("div",{className:"recentGame",children:[Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(e.winner.publicKey),children:Object(L.a)(e.winner)})," ",Object(z.jsxs)("span",{className:"block",children:[Object(z.jsx)("span",{className:"win",children:"won"})," ",e.amount/O.b," ","SOL vs"," "]}),Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(t.publicKey),children:Object(L.a)(t)})]},e._id)}return Object(z.jsxs)("div",{className:"recentGame",children:[Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(e.creator.publicKey),children:Object(L.a)(e.creator)})," ",Object(z.jsxs)("span",{className:"block",children:[Object(z.jsx)("span",{className:"draw",children:"draw"})," vs"," "]}),Object(z.jsx)(A.b,{className:"profileLink",to:"/u/".concat(e.opponent.publicKey),children:Object(L.a)(e.opponent)})]},e._id)}}};var $e,et=function(){var e=window.location.pathname;return console.log("path: "+e),"/rps"==e?Object(z.jsx)("div",{className:"RightSide",children:Object(z.jsx)(Je,{})}):"/dice"==e?Object(z.jsx)("div",{className:"RightSide",children:Object(z.jsx)(Qe,{})}):Object(z.jsx)("div",{})},tt=n(455),nt=n(452),ct=(n(436),tt.a.Option);!function(e){e[e.Daily=0]="Daily",e[e.Weekly=1]="Weekly",e[e.All=2]="All"}($e||($e={}));var at=function(){var e=Object(c.useState)(0),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(0),i=Object(f.a)(s,2),r=i[0],l=i[1],o=Object(c.useState)(0),d=Object(f.a)(o,2),j=d[0],b=d[1],u=Object(c.useState)(0),m=Object(f.a)(u,2),h=m[0],x=m[1],N=Object(c.useState)(0),w=Object(f.a)(N,2),S=w[0],C=w[1],k=Object(c.useState)(0),_=Object(f.a)(k,2),T=_[0],E=_[1],A=Object(c.useState)(0),L=Object(f.a)(A,2),R=L[0],D=L[1],M=Object(c.useState)(0),I=Object(f.a)(M,2),B=I[0],F=I[1],U=Object(c.useState)(0),G=Object(f.a)(U,2),P=G[0],K=G[1],W=Object(c.useState)(0),H=Object(f.a)(W,2),Y=H[0],Z=H[1],q=Object(c.useState)(0),V=Object(f.a)(q,2),J=V[0],X=V[1],Q=Object(c.useState)(0),$=Object(f.a)(Q,2),ee=$[0],te=$[1],ne=Object(c.useState)($e.Daily),ce=Object(f.a)(ne,2),ae=ce[0],se=ce[1],ie=Object(c.useState)(new Date),re=Object(f.a)(ie,2),le=re[0],oe=re[1],de=Object(c.useState)(!1),je=Object(f.a)(de,2),be=je[0],ue=je[1],Oe=Object(c.useState)({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight}),me=Object(f.a)(Oe,2),he=me[0],xe=me[1],pe=Object(c.useState)(window.innerWidth<=768),ve=Object(f.a)(pe,2),fe=ve[0],ge=ve[1],Ne=function(){ge(window.innerWidth<=768),xe({dynamicWidth:window.innerWidth,dynamicHeight:window.innerHeight})},ye=Object(g.b)().wallet,we=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){var n,c,s,i,r,o,d,j,u,O,m,h,v,g,N,w,S;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ue(!0),n={params:{timeFilterType:t.timeFilterType||0==t.timeFilterType?t.timeFilterType:Number(ae),timeFilterItem:t.timeFilterItem?t.timeFilterItem:le}},e.next=5,Promise.all([y.a.get("/api/stats",n)]);case 5:c=e.sent,s=Object(f.a)(c,1),i=s[0],r=i.data,o=r.rpsVolume,d=r.rpsGames,j=r.rpsFees,u=r.diceVolume,O=r.diceGames,m=r.diceFees,h=r.coinflipVolume,v=r.coinflipGames,g=r.coinflipFees,N=r.totalVolume,w=r.totalGames,S=r.totalFees,a(o),l(d),b(j),x(u),C(O),E(m),D(h),F(v),K(g),Z(N),X(w),te(S),ue(!1),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),ue(!1);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(Number(t)),e.next=3,we({timeFilterType:Number(t),timeFilterItem:le});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t,n){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(null===t||void 0===t?void 0:t.toDate()),e.next=3,we({timeFilterType:ae,timeFilterItem:null===t||void 0===t?void 0:t.toDate()});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return window.addEventListener("resize",Ne),function(){window.removeEventListener("resize",Ne)}}),[he]),Object(c.useEffect)((function(){we({})}),[ye]),Object(z.jsx)(Ee.a,{spinning:be,children:Object(z.jsx)("div",{className:"Page Dashboard",children:Object(z.jsxs)("div",{className:"dashboard-wrap",children:[Object(z.jsx)("div",{className:"row",children:Object(z.jsx)("div",{className:"dashboard-top-bar",children:Object(z.jsxs)("div",{className:"time-fliter-box",children:[Object(z.jsx)("div",{className:"time-fliter-title",children:"Filter Type: "}),Object(z.jsx)("div",{className:"time-filter-selector",children:Object(z.jsxs)(tt.a,{defaultValue:$e.Daily.toString(),style:{width:"".concat(fe?"inherit":"120px")},onChange:Se,children:[Object(z.jsx)(ct,{value:$e.Daily.toString(),children:"Daily"}),Object(z.jsx)(ct,{value:$e.Weekly.toString(),children:"Weekly"}),Object(z.jsx)(ct,{value:$e.All.toString(),children:"All"})]})}),ae!==$e.All&&Object(z.jsx)("div",{className:"time-filter-date-picker",children:Object(z.jsx)(nt.a,{onChange:Ce,defaultValue:Pe()(new Date),picker:ae==$e.Daily?"date":"week"})})]})})}),Object(z.jsxs)("div",{className:"row",children:[Object(z.jsxs)("div",{className:"col-md-12 col-lg-4 mb-3",children:[Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total RPS Volume"}),Object(z.jsxs)("div",{className:"dashboard-stats-box-item",children:[n/O.b," SOL"]})]}),Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total Dice Volume"}),Object(z.jsxs)("div",{className:"dashboard-stats-box-item",children:[h/O.b," SOL"]})]}),Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total Coinflip Volume"}),Object(z.jsxs)("div",{className:"dashboard-stats-box-item",children:[R/O.b," SOL"]})]}),Object(z.jsxs)("div",{className:"stats-container w-100",children:[Object(z.jsx)("span",{className:"stats-title",children:"Total Volume"}),Object(z.jsxs)("span",{className:"stats-number",children:[Y/O.b," SOL"]})]})]}),Object(z.jsxs)("div",{className:"col-md-12 col-lg-4 mb-3",children:[Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total RPS Games"}),Object(z.jsx)("div",{className:"dashboard-stats-box-item",children:r})]}),Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total Dice Games"}),Object(z.jsx)("div",{className:"dashboard-stats-box-item",children:S})]}),Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total Coinflip Games"}),Object(z.jsx)("div",{className:"dashboard-stats-box-item",children:B})]}),Object(z.jsxs)("div",{className:"stats-container w-100",children:[Object(z.jsx)("span",{className:"stats-title",children:"Total Games"}),Object(z.jsx)("span",{className:"stats-number",children:J})]})]}),Object(z.jsxs)("div",{className:"col-md-12 col-lg-4",children:[Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total RPS Fees"}),Object(z.jsxs)("div",{className:"dashboard-stats-box-item",children:[j/O.b," SOL"]})]}),Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total Dice Fees"}),Object(z.jsxs)("div",{className:"dashboard-stats-box-item",children:[T/O.b," SOL"]})]}),Object(z.jsxs)("div",{className:"dashboard-stats-box ",children:[Object(z.jsx)("div",{className:"dashboard-stats-box-title",children:"Total Coinflip Fees"}),Object(z.jsxs)("div",{className:"dashboard-stats-box-item",children:[P/O.b," SOL"]})]}),Object(z.jsxs)("div",{className:"stats-container w-100",children:[Object(z.jsx)("span",{className:"stats-title",children:"Total Fees"}),Object(z.jsxs)("span",{className:"stats-number",children:[ee/O.b," SOL"]})]})]})]})]})})})};var st=function(){var e=Object(Te.i)().publicKey,t=Object(c.useState)(),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!1),r=Object(f.a)(i,2),l=r[0],o=r[1],d=function(){var e=Object(v.a)(Object(p.a)().mark((function e(t){var n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/u/fullInfo/".concat(t));case 3:n=e.sent,s(n.data),console.log(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){e&&d(e)}),[e]),Object(z.jsx)("div",{className:"Page Profile",children:l?Object(z.jsx)("h1",{children:"THIS PAGE IS FORBIDDEN FOR IMPOSTERS"}):a?Object(z.jsxs)("div",{className:"info",children:[Object(z.jsxs)("h3",{children:[Object(z.jsx)("span",{className:"tag",children:"PublicKey:"})," ",Object(z.jsx)("a",{target:"_blank",rel:"noopener norefferer",href:"https://solscan.io/account/".concat(a.publicKey),children:a.publicKey})]}),Object(z.jsxs)("h3",{children:[Object(z.jsx)("span",{className:"tag",children:"Balance:"})," ",a.balance/O.b," SOL"]}),Object(z.jsxs)("h3",{children:[Object(z.jsx)("span",{className:"tag",children:"Associated Keypair:"})," ",Object(z.jsx)("a",{target:"_blank",rel:"noopener norefferer",href:"https://solscan.io/account/".concat(a.associatedKeypair.publicKey),children:a.associatedKeypair.publicKey})]}),Object(z.jsx)("input",{type:"number"})]}):Object(z.jsx)("h1",{children:"Loading..."})})},it=o.b.Testnet;var rt,lt=function(){var e=Object(c.useMemo)((function(){return Object(O.f)(it)}),[it]),t=Object(c.useMemo)((function(){return[Object(d.a)(),Object(j.a)(),Object(b.a)()]}),[it]),n=Object(w.b)();window.addEventListener("load",(function(){window.solana&&window.solana.on("accountChanged",(function(){console.log("account has been changed")}))})),Object(c.useEffect)((function(){var e=Object(m.a)("/game"),t=Object(m.a)("/user"),c=Object(m.a)("/lottery"),a=Object(m.a)("/coinflip"),s=Object(m.a)("/message");n({type:"LOAD_GAME_SOCKET",payload:e}),n({type:"LOAD_USER_SOCKET",payload:t}),n({type:"LOAD_LOTTERY_SOCKET",payload:c}),n({type:"LOAD_COINFLIP_SOCKET",payload:a}),n({type:"LOAD_MESSAGE_SOCKET",payload:s})}),[]);var a=function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(x.a,{}),Object(z.jsx)(He,{}),Object(z.jsxs)("div",{className:"Body",children:[Object(z.jsx)(qe,{}),Object(z.jsx)(Te.b,{}),Object(z.jsx)(et,{})]})]})},s=function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(x.a,{}),Object(z.jsx)(He,{}),Object(z.jsx)("div",{className:"Body",children:Object(z.jsx)(Te.b,{})})]})};return Object(z.jsxs)("div",{className:"App",children:[Object(z.jsx)(T.a,{className:"neoneffect",src:"/img/neoneffect.svg"}),Object(z.jsx)(T.a,{className:"neoneffect effectbottom",src:"/img/neoneffect.svg"}),Object(z.jsx)(r.a,{endpoint:e,children:Object(z.jsxs)(l.a,{wallets:t,autoConnect:!0,children:[Object(z.jsx)(u.a,{children:Object(z.jsx)(A.a,{children:Object(z.jsxs)(Te.e,{children:[Object(z.jsx)(Te.c,{path:"/dashboard",element:Object(z.jsx)(s,{}),children:Object(z.jsx)(Te.c,{path:"/dashboard",element:Object(z.jsx)(at,{})})}),Object(z.jsx)(Te.c,{path:"/lottery",element:Object(z.jsx)(s,{}),children:Object(z.jsx)(Te.c,{path:"/lottery",element:Object(z.jsx)(ge,{})})}),Object(z.jsx)(Te.c,{path:"/leaderboard",element:Object(z.jsx)(s,{}),children:Object(z.jsx)(Te.c,{path:"/leaderboard",element:Object(z.jsx)(Ue,{})})}),Object(z.jsx)(Te.c,{path:"/coinflip",element:Object(z.jsx)(s,{}),children:Object(z.jsx)(Te.c,{path:"/coinflip",element:Object(z.jsx)(_e,{})})}),Object(z.jsxs)(Te.c,{path:"/",element:Object(z.jsx)(a,{}),children:[Object(z.jsx)(Te.c,{path:"/",element:Object(z.jsx)(Te.a,{to:"/rps"})}),Object(z.jsx)(Te.c,{path:"/rps",element:Object(z.jsx)(U,{})}),Object(z.jsx)(Te.c,{path:"/dice",element:Object(z.jsx)(Z,{})}),Object(z.jsx)(Te.c,{path:"/u/:publicKey",element:Object(z.jsx)(We,{})}),Object(z.jsx)(Te.c,{path:"/uInfo/:publicKey",element:Object(z.jsx)(st,{})}),Object(z.jsx)(Te.c,{path:"/admin",element:Object(z.jsx)(Fe,{})})]})]})})}),Object(z.jsx)(h.a,{autoClose:1500})]})})]})},ot=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,469)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},dt=n(183);!function(e){e.LOAD_USER="LOAD_USER",e.UPDATE_USER_BALANCE="UPDATE_USER_BALANCE",e.UPDATE_USER_LAST_MESSAGE_AT="UPDATE_USER_LAST_MESSAGE_AT"}(rt||(rt={}));var jt;!function(e){e.LOAD_GAMES="LOAD_GAMES",e.ADD_GAME="ADD_GAME",e.UPDATE_GAME="UPDATE_GAME"}(jt||(jt={}));var bt;!function(e){e.LOAD_ASSOCIATED_KEYPAIR="LOAD_ASSOCIATED_KEYPAIR"}(bt||(bt={}));var ut;!function(e){e.LOAD_WALLET="LOAD_WALLET"}(ut||(ut={}));var Ot;!function(e){e.LOAD_GAME_SOCKET="LOAD_GAME_SOCKET",e.LOAD_USER_SOCKET="LOAD_USER_SOCKET",e.LOAD_LOTTERY_SOCKET="LOAD_LOTTERY_SOCKET",e.LOAD_COINFLIP_SOCKET="LOAD_COINFLIP_SOCKET",e.LOAD_MESSAGE_SOCKET="LOAD_MESSAGE_SOCKET"}(Ot||(Ot={}));var mt,ht={user:void 0,game:void 0,message:void 0,lottery:void 0,coinflip:void 0};!function(e){e.SET_FINISHED_ROUNDS="SET_FINISHED_ROUNDS",e.SET_LAST_ROUND="SET_LAST_ROUND",e.SET_USER_LOTTERY_INFO="SET_USER_LOTTERY_INFO",e.BOUGHT_TICKETS="BOUGHT_TICKETS",e.CLOSED_LOTTERY="CLOSED_LOTTERY"}(mt||(mt={}));var xt,pt={finishedRounds:[],lastRound:{},userLotteryInfo:{buyer:{_id:"",publicKey:"",isAdmin:!1,associatedKeypair:"",balance:0,lastMessageAt:0},lottery:{},boughtAmount:0,boughtTickets:[],totalPrice:0,matchingCountPerBracket:[],matchingTicketIdsPerBracket:[],matchingNumberIndexArray:[]}};!function(e){e.SET_RECENT_ROUNDS="SET_RECENT_ROUNDS",e.SET_CURRENT_ROUND="SET_CURRENT_ROUND",e.SET_CURRENT_USERS_INFO="SET_CURRENT_USERS_INFO",e.UPDATE_CURRENT_USERS_INFO="UPDATE_CURRENT_USERS_INFO",e.UPDATE_CURRENT_ROUND="UPDATE_CURRENT_ROUND",e.UPDATE_RECENT_ROUNDS="UPDATE_RECENT_ROUNDS"}(xt||(xt={}));var vt={recentRounds:[],currentRound:{},usersGameInfo:[]},ft=Object(dt.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt.LOAD_USER:return t.payload;case rt.UPDATE_USER_BALANCE:return e&&Object(S.a)(Object(S.a)({},e),{},{balance:e.balance+t.payload});case rt.UPDATE_USER_LAST_MESSAGE_AT:return e&&Object(S.a)(Object(S.a)({},e),{},{lastMessageAt:Date.now()});default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===ut.LOAD_WALLET?t.payload:e},associatedKeypair:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===bt.LOAD_ASSOCIATED_KEYPAIR?t.payload:e},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt.LOAD_GAMES:return t.payload;case jt.ADD_GAME:return e.find((function(e){return e._id===t.payload._id}))?e:[].concat(Object(q.a)(e),[t.payload]);case jt.UPDATE_GAME:return e.map((function(e){return e._id===t.payload._id?("ended"===t.payload.status&&(t.payload.status="countdown",t.payload.countDownEnd=Date.now()+3e3),t.payload):e}));default:return e}},sockets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot.LOAD_GAME_SOCKET:return Object(S.a)(Object(S.a)({},e),{},{game:t.payload});case Ot.LOAD_USER_SOCKET:return Object(S.a)(Object(S.a)({},e),{},{user:t.payload});case Ot.LOAD_LOTTERY_SOCKET:return Object(S.a)(Object(S.a)({},e),{},{lottery:t.payload});case Ot.LOAD_COINFLIP_SOCKET:return Object(S.a)(Object(S.a)({},e),{},{coinflip:t.payload});case Ot.LOAD_MESSAGE_SOCKET:return Object(S.a)(Object(S.a)({},e),{},{message:t.payload});default:return e}},lottery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt.SET_FINISHED_ROUNDS:return Object(S.a)(Object(S.a)({},e),{},{finishedRounds:t.payload});case mt.SET_LAST_ROUND:return Object(S.a)(Object(S.a)({},e),{},{lastRound:t.payload});case mt.SET_USER_LOTTERY_INFO:return Object(S.a)(Object(S.a)({},e),{},{userLotteryInfo:t.payload});case mt.BOUGHT_TICKETS:return Object(S.a)(Object(S.a)({},e),{},{lastRound:Object(S.a)(Object(S.a)({},e.lastRound),{},{amountCollectedInGame:(e.lastRound.amountCollectedInGame||0)+t.payload.price}),userLotteryInfo:Object(S.a)(Object(S.a)({},e.userLotteryInfo),{},{boughtTickets:t.payload.boughtTickets})});case mt.CLOSED_LOTTERY:return Object(S.a)(Object(S.a)({},e),{},{finishedRounds:[].concat(Object(q.a)(e.finishedRounds),[t.payload]),lastRound:{},userLotteryInfo:Object(S.a)(Object(S.a)({},e.userLotteryInfo),{},{boughtTickets:[]})});default:return e}},coinflip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt.SET_RECENT_ROUNDS:return Object(S.a)(Object(S.a)({},e),{},{recentRounds:t.payload});case xt.SET_CURRENT_ROUND:return Object(S.a)(Object(S.a)({},e),{},{currentRound:t.payload});case xt.SET_CURRENT_USERS_INFO:return Object(S.a)(Object(S.a)({},e),{},{usersGameInfo:t.payload});case xt.UPDATE_CURRENT_USERS_INFO:return Object(S.a)(Object(S.a)({},e),{},{usersGameInfo:[].concat(Object(q.a)(e.usersGameInfo),[t.payload])});case xt.UPDATE_CURRENT_ROUND:return Object(S.a)(Object(S.a)({},e),{},{currentRound:t.payload});case xt.UPDATE_RECENT_ROUNDS:return Object(S.a)(Object(S.a)({},e),{},{recentRounds:[].concat(Object(q.a)(e.recentRounds.slice(1)),[t.payload])});default:return e}}}),gt=Object(dt.b)(ft);R.a.initialize("UA-223068161-1"),i.a.render(Object(z.jsx)(c.StrictMode,{children:Object(z.jsx)(w.a,{store:gt,children:Object(z.jsx)(lt,{})})}),document.getElementById("root")),ot()},56:function(e,t,n){},61:function(e,t,n){},78:function(e,t,n){}},[[437,1,2]]]);
//# sourceMappingURL=main.102e0c8a.chunk.js.map